!function(){"use strict";var e={};window.App=e}(),function(){"use strict";$(document).ready(function(){$("ul.header__dropdown-menu").hide(),$(".header__menu-item.header_dropdown").click(function(){$("ul.header__dropdown-menu").toggle("fast")})})}(),function(){"use strict";function e(){var e=$("meta[name=_csrf]").attr("content"),t=$("meta[name=_csrf_header]").attr("content"),a={};a[t]=e;var s=Handlebars.compile($("#results").html()),i=$("#search-form").serialize();window.history.pushState("","","search?"+i),$(".b-search__js-loader").css("visibility","visible"),$.ajax({type:"POST",url:"/search",data:i,headers:a,success:function(e){console.log(e);var t=s({polygraphies:e.polygraphies,polygraphiesListIsNull:e.polygraphiesListIsNull});$(".b-search__polygraphies-list").html(t),$(".b-search__js-loader").css("visibility","hidden")},error:function(e,t){console.log(arguments),alert("Возникла ошибка: "+e.responseCode),$(".b-search__js-loader").css("visibility","visible")}})}var t=function(e){e.preventDefault(),$("body").css("overflow","hidden"),$(".b-search__overlay").css("overflow","auto"),$(".b-search__overlay").fadeIn("fast");var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=Handlebars.compile($("#pop-up-window-detail").html());console.log(this);var n=$(this).attr("id"),r="/polygraphy/"+n;console.log(r),$.ajax({type:"GET",dataType:"json",url:r,headers:s,success:function(e){$(".b-popup-window").html(i(e))},error:function(e,t){alert("Ошибка: "+e.responseCode)}})},a=function(){$(document).scrollTop()>0?$(".b-search__button-up").fadeIn("fast"):$(".b-search__button-up").fadeOut("fast")},s=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}(),i=function(){var e=$(this).attr("id");console.log(e),window.location.href="/polygraphy/"+e};$(document).ready(function(){$(".b-search__polygraphies-list").length&&e(),$("#search-form").on("submit",e),$("#search-form").change(e),$("#search-form").bind("keypress",function(t){return 13===t.keyCode?(t.preventDefault(),e(),!1):void 0}),$(".b-search__polygraphies-list").on("click",".b-results-item__detail a",t),$(".b-search__polygraphies-list").on("click",".b-results-item__name",t),$(this).on("click",".b-results-item__adaptive-name",i),$(this).on("click",".b-results-item__adaptive-detail-info",i),$(".b-search__overlay").click(function(e){e.target===this&&($(".b-search__overlay").fadeOut("fast"),$("body").css("overflow","auto"))}),$(this).keydown(function(e){return 27===e.keyCode?($(".b-search__overlay").fadeOut("fast"),!1):void 0}),$(this).on("click",".b-popup-window__close",function(){$(".b-search__overlay").fadeOut("fast"),$("body").css("overflow","auto")}),$(".b-dropdown__placeholder").click(function(){var e=$(this).attr("id");$(".b-dropdown__list[id="+e+"-list]").slideToggle()}),$(".b-dropdown__input").change(function(){var e=$(this).attr("name"),t=$("label[for="+e+"-item-"+$(this).val()+"]").text();$(".b-dropdown__placeholder[id="+e+"]").text(t),$(".b-dropdown__list[id="+e+"-list]").slideUp("slow")});var n=$("label[for=paymentMethod-item-"+$(".b-dropdown__input[name=paymentMethod]:checked").attr("value")+"]").text();$(".b-dropdown__placeholder[id=paymentMethod]").text(n);var r=$("label[for=deliveryMethod-item-"+$(".b-dropdown__input[name=deliveryMethod]:checked").attr("value")+"]").text();$(".b-dropdown__placeholder[id=deliveryMethod]").text(r),$(".b-search__button-up").mouseover(function(){$(this).animate({opacity:1},100)}).mouseout(function(){$(this).animate({opacity:.5},100)}),$(".b-search__button-up").click(function(){return $("body,html").animate({scrollTop:0},400),!1}),$(document).width()>1024&&$(window).scroll(a),$(".b-search-line__input").keyup(function(){s(e,1500)}),$("input").attr("autocomplete","off")})}(),function(e){"use strict";e.displayErrors=function(e){var t=$("#big-form").attr("class"),a=$("."+t+"__base-error");e.errors.base?(a.addClass("js-display-block"),a.text(e.errors.base)):(a.addClass("js-none-display"),$.each(e.errors,function(e,a){$("."+t+"__input[name="+e+"]").removeClass("js-normal-input").addClass("js-error-input"),$("."+t+"__for-error#"+e+"-for-error").removeClass("js-none-display").addClass("js-display-block"),$("."+t+"__invalid#"+e+"-error").removeClass("js-none-display").addClass("js-display-block"),$("."+t+"__invalid#"+e+"-error").text(a)}))}}(window.App),function(){"use strict";var e=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(".general-input__input[type=text]"),n=$(".general-input__invalid"),r=$(".general-input__for-error"),o=i.val();i.addClass("js-normal-input").removeClass("js-error-input"),n.addClass("js-none-display").removeClass("js-display-block"),r.addClass("js-none-display").removeClass("js-display-block"),n.text(""),$.ajax({type:"POST",dataType:"json",url:"/info-for-polygraphy",headers:s,data:{email:o},success:function(e){e.success?window.location.href="/info-for-polygraphy-success":window.App.displayErrors(e)}})};$(document).ready(function(){$("input").attr("autocomplete","off"),$(".general-submit[id=submit-email]").click(e),$("#request-form").bind("keypress",function(t){return 13===t.keyCode?(t.preventDefault(),e(),!1):void 0})})}(),function(){"use strict";var e=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(this).attr("id");$.ajax({type:"POST",dataType:"json",url:"/admin/send-registration-link",headers:s,data:{requestId:i},success:function(e){var t=e.id,a=$(".b-inside-tabs__link a[id="+t+"]");$(".b-inside-tabs__generate-link a[id="+t+"]").parent().hide(),a.attr("href",e.link),a.text(e.link)}})},t=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(this).attr("id"),n=$(this);$.ajax({type:"POST",dataType:"json",url:"/admin/remove-request-on-registration",headers:s,data:{requestId:i},success:function(){$(n).parent().parent().remove()}})},a=function(e,t){var a=$("meta[name=_csrf]").attr("content"),s=$("meta[name=_csrf_header]").attr("content"),i={};i[s]=a,$.ajax({type:"POST",dataType:"json",url:"/admin/remove-polygraphy",headers:i,data:{polygraphyId:e},success:function(){$(t).parent().parent().parent().remove(),$(".b-popup-verification").fadeOut("fast")}})},s=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(this),n=$(this).attr("for"),r=$(this).attr("data-name"),o=$(".b-inside-tabs__checkbox[id="+n+"]"),d=o.prop("checked");$.ajax({type:"POST",dataType:"json",url:"/admin/change-condition-display-polygraphy",headers:s,data:{polygraphyId:n,curCondition:d},success:function(){d?($(o).prop("checked",!1),$(i).css("backgroundPositionY","0px"),$.gritter.add({title:r,text:"Полиграфия была исключена из поиска"})):($(o).prop("checked",!0),$(i).css("backgroundPositionY","-30px"),$.gritter.add({title:r,text:"Полиграфия была добавлена в поиск"}))}})},i=function(e){e.target===this&&($(".b-popup-verification").fadeOut("fast"),$("body").css("overflow","auto"))},n=function(){$(this).removeClass("b-tabs__js-inactive-tab").addClass("b-tabs__js-active-tab"),$(this).siblings().removeClass("b-tabs__js-active-tab").addClass("b-tabs__js-inactive-tab");var e=$(this).attr("id"),t=$(".b-inside-tabs__content[id=inside-"+e+"]");t.siblings().removeClass("b-inside-tabs__js-inside-active-tab").addClass("b-inside-tabs__js-inside-inactive-tab"),t.removeClass("b-inside-tabs__js-inside-inactive-tab").addClass("b-inside-tabs__js-inside-active-tab")};$(document).ready(function(){$(".b-tabs__tab").on("click",n),$(".b-inside-tabs__table-row").on("click",".b-inside-tabs__generate-link a",e),$(".b-inside-tabs__label").on("click",s),$(".b-inside-tabs__js-remove-bid").on("click",t),$(".b-inside-tabs__js-remove-from-search").on("click",function(){var e=$(this).attr("id"),t=$(this),s=$(".b-popup-verification"),i=s.attr("class");s.fadeIn("fast"),$("."+i+"__main").on("click","."+i+"__answer",function(){"yes"===$(this).attr("answer")?a(e,t):s.fadeOut("fast")})}),$(".b-popup-verification").click(i)})}(),function(){"use strict";!function(e){e.fn.formToWizard=function(t){function a(t){var a="step"+t;e("#"+a+"commands").append("<a href='#' id='"+a+"Prev' class='js-prev'>< Предыдущий шаг</a>"),e("#"+a+"Prev").bind("click",function(s){e("#"+a).hide(),e("#step"+(t-1)).show(),e(d).hide(),i(t-1)})}function s(t){var a="step"+t;e("#"+a+"commands").append("<a href='#' id='"+a+"Next' class='js-next'>Следующий шаг ></a>"),e("#"+a+"Next").bind("click",function(s){s.preventDefault();var n=e("meta[name=_csrf]").attr("content"),r=e("meta[name=_csrf_header]").attr("content"),c={};c[r]=n;var l=e(".b-registration__input"),p=e(".b-registration__invalid"),u=e(".b-registration__for-error"),h=e(".b-registration__base-error");l.addClass("js-normal-input").removeClass("js-error-input"),p.addClass("js-none-display").removeClass("js-display-block"),u.addClass("js-none-display").removeClass("js-display-block"),p.text(""),CKEDITOR.instances["text-area-field"].updateElement(),h.addClass("js-none-display"),h.text("");var f={};l.each(function(){f[e(this).attr("name")]=e(this).val()}),e.ajax({type:"POST",dataType:"json",url:"/registration/first-step",headers:c,contentType:"application/json",data:JSON.stringify({email:f.email,password:f.password,name:f.name,address:f.address,phone:f.phone,publicEmail:f.publicEmail,website:f.website,textArea:f.textArea,hash:f.hash}),success:function(s){s.success?(e("#"+a).hide(),e("#step"+(t+1)).show(),t+2==o&&e(d).show(),i(t+1)):window.App.displayErrors(s)}})})}function i(t){e("#steps li").removeClass("js-current"),e("#stepDesc"+t).addClass("js-current")}t=e.extend({submitButton:""},t);var n=this,r=e(n).find("fieldset"),o=r.size(),d="#"+t.submitButton;e(d).hide(),e(n).before('<ul id="steps"></ul>'),r.each(function(t){e(this).wrap("<div id='step"+t+"'></div>"),e(this).append("<div id='step"+t+"commands'></div>"),e("#steps").append("<li id='stepDesc"+t+"'>Шаг "+(t+1)+"</li>"),0==t?(s(t),i(t)):t==o-1?(e("#step"+t).hide(),a(t)):(e("#step"+t).hide(),a(t),s(t))})}}(jQuery),$(document).ready(function(){$("input").attr("autocomplete","off"),$("#registration-form").formToWizard({submitButton:"submit-registration-form"})})}(),function(){"use strict";var e=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(".b-registration__input"),n=$(".b-registration__invalid"),r=$(".b-registration__for-error");i.addClass("js-normal-input").removeClass("js-error-input"),n.addClass("js-none-display").removeClass("js-display-block"),r.addClass("js-none-display").removeClass("js-display-block"),n.text(""),CKEDITOR.instances["text-area-field"].updateElement();var o=$(".js-wtc").prop("checked"),d=$(".js-obe").prop("checked"),c={};i.each(function(){c[$(this).attr("name")]=$(this).val()});var l={};$(".b-registration__checkbox").each(function(){l[$(this).attr("name")]=[]}),$.each(l,function(e,t){$(".b-registration__checkbox[name="+e+"]:checked").each(function(){t.push($(this).attr("value"))})}),$.ajax({type:"POST",dataType:"json",url:"/registration/second-step",headers:s,contentType:"application/json",data:JSON.stringify({firstForm:{email:c.email,password:c.password,name:c.name,address:c.address,phone:c.phone,publicEmail:c.publicEmail,website:c.website,info:c.textArea,hash:c.hash},secondForm:{paymentMethods:l.paymentMethods,deliveryMethods:l.deliveryMethods,services:l.services,writesTheCheck:o,orderByEmail:d}}),success:function(e){e.success?window.location.href="/registration-success":window.App.displayErrors(e)}})};$(document).ready(function(){$("input").attr("autocomplete","off"),$(".b-registration").on("click",".b-registration__submit",e)})}(),function(){"use strict";var e=function(){var e=$("meta[name=_csrf]").attr("content"),t=$("meta[name=_csrf_header]").attr("content"),a={};a[t]=e;var s=$("form").attr("action");CKEDITOR.instances["text-area-field"].updateElement();var i=$(".js-wtc").prop("checked"),n=$(".js-obe").prop("checked"),r=$(".b-edit__input"),o=$(".b-edit__invalid"),d=$(".b-edit__for-error"),c=$(".b-edit__base-error"),l={};r.each(function(){l[$(this).attr("name")]=$(this).val(),$(this).addClass("js-normal-input").removeClass("js-error-input"),o.addClass("js-none-display").removeClass("js-display-block"),d.addClass("js-none-display").removeClass("js-display-block"),o.text("")});var p={};$(".b-edit__checkbox").each(function(){p[$(this).attr("name")]=[]}),$.each(p,function(e,t){$(".b-edit__checkbox[name="+e+"]:checked").each(function(){t.push($(this).attr("value"))})}),c.addClass("js-none-display"),c.text(""),$.ajax({type:"PUT",dataType:"json",url:s,headers:a,contentType:"application/json",data:JSON.stringify({polygraphyId:l.polygraphyId,email:l.email,password:l.password,name:l.name,address:l.address,phone:l.phone,publicEmail:l.publicEmail,website:l.website,info:l.textArea,paymentMethods:p.paymentMethods,deliveryMethods:p.deliveryMethods,services:p.services,writesTheCheck:i,orderByEmail:n}),success:function(e){e.success?window.location.href="/success-editing":window.App.displayErrors(e)}})};$(document).ready(function(){$(".b-edit__save").on("click",e)})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQXBwIiwid2luZG93IiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJoaWRlIiwiY2xpY2siLCJ0b2dnbGUiLCJsaXZlU2VhcmNoIiwidG9rZW4iLCJhdHRyIiwiaGVhZGVyIiwiaGVhZGVycyIsInRlbXBsYXRlIiwiSGFuZGxlYmFycyIsImNvbXBpbGUiLCJodG1sIiwibXNnIiwic2VyaWFsaXplIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImNzcyIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwicG9seWdyYXBoaWVzIiwicG9seWdyYXBoaWVzTGlzdElzTnVsbCIsImVycm9yIiwieGhyIiwic3RyIiwiYXJndW1lbnRzIiwiYWxlcnQiLCJyZXNwb25zZUNvZGUiLCJwb3BVcFdpbmRvdyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmYWRlSW4iLCJyZW5kZXIiLCJ0aGlzIiwiaWQiLCJkYXRhVHlwZSIsInNjcm9sbFVwV2luZG93Iiwic2Nyb2xsVG9wIiwiZmFkZU91dCIsImRlbGF5IiwidGltZXIiLCJjYWxsYmFjayIsIm1zIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImp1bXBUb1BhZ2VPZlBvbHlncmFwaHkiLCJsb2NhdGlvbiIsImhyZWYiLCJsZW5ndGgiLCJvbiIsImNoYW5nZSIsImJpbmQiLCJlIiwia2V5Q29kZSIsInRhcmdldCIsImtleWRvd24iLCJwbGFjZWhvbGRlcklkIiwic2xpZGVUb2dnbGUiLCJuYW1lIiwibGFiZWwiLCJ2YWwiLCJ0ZXh0Iiwic2xpZGVVcCIsInBheW1lbnRNZXRob2RQbGFjZWhvbGRlciIsImRlbGl2ZXJ5TWV0aG9kUGxhY2Vob2xkZXIiLCJtb3VzZW92ZXIiLCJhbmltYXRlIiwib3BhY2l0eSIsIm1vdXNlb3V0Iiwid2lkdGgiLCJzY3JvbGwiLCJrZXl1cCIsImRpc3BsYXlFcnJvcnMiLCJjbGFzc05hbWUiLCJiYXNlRXJyb3IiLCJlcnJvcnMiLCJhZGRDbGFzcyIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsInJlbW92ZUNsYXNzIiwidmFsaWRhdGVGb3JtIiwiaW5wdXQiLCJpbnZhbGlkIiwiZm9yRXJyb3IiLCJlbWFpbCIsInJlcXVlc3RJZCIsInJlc3BvbnNlRGF0YSIsInJlcUlkIiwiaW5zaWRlVGFiIiwicGFyZW50IiwibGluayIsInJlbW92ZUJpZCIsImJ0biIsInJlbW92ZSIsInJlbW92ZUZyb21TZWFyY2giLCJwb2x5Z3JhcGh5SWQiLCJhdmFpbGFiaWxpdHlJblNlYXJjaCIsImNoZWNrYm94IiwiY3VyQ29uZGl0aW9uIiwicHJvcCIsImdyaXR0ZXIiLCJhZGQiLCJ0aXRsZSIsImhpZGVQb3B1cFdpbmRvdyIsInN3aXRjaFRhYnMiLCJzaWJsaW5ncyIsImluc2lkZUFjdGl2ZVRhYiIsInZlcmlmaWNhdGlvbiIsInZlcmlmaWNhdGlvbkNsYXNzIiwiZm4iLCJmb3JtVG9XaXphcmQiLCJvcHRpb25zIiwiY3JlYXRlUHJldkJ1dHRvbiIsImkiLCJzdGVwTmFtZSIsImFwcGVuZCIsInNob3ciLCJzdWJtaXRCdXR0b25OYW1lIiwic2VsZWN0U3RlcCIsImNyZWF0ZU5leHRCdXR0b24iLCJDS0VESVRPUiIsImluc3RhbmNlcyIsInVwZGF0ZUVsZW1lbnQiLCJuYW1lcyIsImNvbnRlbnRUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhc3N3b3JkIiwiYWRkcmVzcyIsInBob25lIiwicHVibGljRW1haWwiLCJ3ZWJzaXRlIiwidGV4dEFyZWEiLCJoYXNoIiwiY291bnQiLCJleHRlbmQiLCJzdWJtaXRCdXR0b24iLCJlbGVtZW50Iiwic3RlcHMiLCJmaW5kIiwic2l6ZSIsImJlZm9yZSIsIndyYXAiLCJqUXVlcnkiLCJ2YWxpZGF0ZVNlY29uZFN0ZXAiLCJ3cml0ZXNUaGVDaGVjayIsIm9yZGVyQnlFbWFpbCIsImNoZWNrYm94ZXMiLCJwdXNoIiwiZmlyc3RGb3JtIiwiaW5mbyIsInNlY29uZEZvcm0iLCJwYXltZW50TWV0aG9k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QU04RyxLQUFLQyxXQUNQL0IsYUFBZ0I0QixFQUFNNUIsYUFDdEJYLE1BQVN1QyxFQUFNdkMsTUFDZjJDLFNBQVlKLEVBQU1JLFNBQ2xCdEUsS0FBUWtFLEVBQU1sRSxLQUNkdUUsUUFBV0wsRUFBTUssUUFDakJDLE1BQVNOLEVBQU1NLE1BQ2ZDLFlBQWVQLEVBQU1PLFlBQ3JCQyxRQUFXUixFQUFNUSxRQUNqQm1CLEtBQVEzQixFQUFNUyxTQUNkb0IsZUFBa0JMLEVBQVdLLGVBQzdCQyxnQkFBbUJOLEVBQVdNLGdCQUM5QkMsU0FBWVAsRUFBV08sU0FDdkJULGVBQWtCQSxFQUNsQkMsYUFBZ0JBLElBRXBCbEksUUFBUyxTQUFTRCxHQUVYQSxFQUFLQyxRQUNKekIsT0FBT3NELFNBQVNDLEtBQU8sbUJBR3ZCdkQsT0FBT0QsSUFBSWlGLGNBQWN4RCxNQU96Q3ZCLEdBQUVDLFVBQVVDLE1BQU0sV0FFZEYsRUFBRSxpQkFBaUJ3RCxHQUFHLFFBQVMyRyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgQXBwID0ge307XG4gICAgd2luZG93LkFwcCA9IEFwcDtcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgJCgndWwuaGVhZGVyX19kcm9wZG93bi1tZW51JykuaGlkZSgpO1xuICAgICAgICAkKCcuaGVhZGVyX19tZW51LWl0ZW0uaGVhZGVyX2Ryb3Bkb3duJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJ3VsLmhlYWRlcl9fZHJvcGRvd24tbWVudScpLnRvZ2dsZSgnZmFzdCcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbGl2ZVNlYXJjaCgpIHtcbiAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICB2YXIgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoJCgnI3Jlc3VsdHMnKS5odG1sKCkpO1xuICAgICAgICB2YXIgbXNnID0gJCgnI3NlYXJjaC1mb3JtJykuc2VyaWFsaXplKCk7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSgnJywnJywgJ3NlYXJjaD8nICsgbXNnKTtcbiAgICAgICAgJCgnLmItc2VhcmNoX19qcy1sb2FkZXInKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiAnL3NlYXJjaCcsXG4gICAgICAgICAgICBkYXRhOiBtc2csXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICBwb2x5Z3JhcGhpZXM6IGRhdGEucG9seWdyYXBoaWVzLFxuICAgICAgICAgICAgICAgICAgICBwb2x5Z3JhcGhpZXNMaXN0SXNOdWxsOiBkYXRhLnBvbHlncmFwaGllc0xpc3RJc051bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcuYi1zZWFyY2hfX3BvbHlncmFwaGllcy1saXN0JykuaHRtbChodG1sKTtcbiAgICAgICAgICAgICAgICAkKCcuYi1zZWFyY2hfX2pzLWxvYWRlcicpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogIGZ1bmN0aW9uKHhociwgc3RyKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KCfQktC+0LfQvdC40LrQu9CwINC+0YjQuNCx0LrQsDogJyArIHhoci5yZXNwb25zZUNvZGUpO1xuICAgICAgICAgICAgICAgICQoJy5iLXNlYXJjaF9fanMtbG9hZGVyJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICB2YXIgcG9wVXBXaW5kb3cgPSBmdW5jdGlvbiAoZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmItc2VhcmNoX19vdmVybGF5JykuY3NzKCdvdmVyZmxvdycsICdhdXRvJyk7XG4gICAgICAgICQoJy5iLXNlYXJjaF9fb3ZlcmxheScpLmZhZGVJbignZmFzdCcpO1xuICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuICAgICAgICB2YXIgcmVuZGVyID0gSGFuZGxlYmFycy5jb21waWxlKCQoJyNwb3AtdXAtd2luZG93LWRldGFpbCcpLmh0bWwoKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgIHZhciB1cmwgPSAnL3BvbHlncmFwaHkvJytpZDtcbiAgICAgICAgY29uc29sZS5sb2codXJsKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKCcuYi1wb3B1cC13aW5kb3cnKS5odG1sKHJlbmRlcihkYXRhKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6ICBmdW5jdGlvbih4aHIsIHN0cil7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KCfQntGI0LjQsdC60LA6ICcgKyB4aHIucmVzcG9uc2VDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzY3JvbGxVcFdpbmRvdyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICggJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAwICkge1xuICAgICAgICAgICAgJCgnLmItc2VhcmNoX19idXR0b24tdXAnKS5mYWRlSW4oJ2Zhc3QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5iLXNlYXJjaF9fYnV0dG9uLXVwJykuZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBkZWxheSA9IChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdGltZXIgPSAwO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2ssIG1zKXtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCAodGltZXIpO1xuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gICAgICAgIH07XG4gICAgfSkoKTtcblxuICAgIHZhciBqdW1wVG9QYWdlT2ZQb2x5Z3JhcGh5ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICBjb25zb2xlLmxvZyhpZCk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9wb2x5Z3JhcGh5LycraWQ7XG4gICAgfTtcblxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiAoJCgnLmItc2VhcmNoX19wb2x5Z3JhcGhpZXMtbGlzdCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgbGl2ZVNlYXJjaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnI3NlYXJjaC1mb3JtJykub24oJ3N1Ym1pdCcsIGxpdmVTZWFyY2gpO1xuICAgICAgICAkKCcjc2VhcmNoLWZvcm0nKS5jaGFuZ2UobGl2ZVNlYXJjaCk7XG5cbiAgICAgICAgJCgnI3NlYXJjaC1mb3JtJykuYmluZCgna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBsaXZlU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYi1zZWFyY2hfX3BvbHlncmFwaGllcy1saXN0Jykub24oJ2NsaWNrJywgJy5iLXJlc3VsdHMtaXRlbV9fZGV0YWlsIGEnLCBwb3BVcFdpbmRvdyk7XG4gICAgICAgICQoJy5iLXNlYXJjaF9fcG9seWdyYXBoaWVzLWxpc3QnKS5vbignY2xpY2snLCAnLmItcmVzdWx0cy1pdGVtX19uYW1lJywgcG9wVXBXaW5kb3cpO1xuXG4gICAgICAgICQodGhpcykub24oJ2NsaWNrJywgJy5iLXJlc3VsdHMtaXRlbV9fYWRhcHRpdmUtbmFtZScsIGp1bXBUb1BhZ2VPZlBvbHlncmFwaHkpO1xuICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsICcuYi1yZXN1bHRzLWl0ZW1fX2FkYXB0aXZlLWRldGFpbC1pbmZvJywganVtcFRvUGFnZU9mUG9seWdyYXBoeSk7XG5cbiAgICAgICAgJCgnLmItc2VhcmNoX19vdmVybGF5JykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAkKCcuYi1zZWFyY2hfX292ZXJsYXknKS5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgICAgICAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKHRoaXMpLmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYoIGUua2V5Q29kZSA9PT0gMjcgKSB7XG4gICAgICAgICAgICAgICAgJCgnLmItc2VhcmNoX19vdmVybGF5JykuZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsICcuYi1wb3B1cC13aW5kb3dfX2Nsb3NlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJy5iLXNlYXJjaF9fb3ZlcmxheScpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLmItZHJvcGRvd25fX3BsYWNlaG9sZGVyJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlcklkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgJCgnLmItZHJvcGRvd25fX2xpc3RbaWQ9JytwbGFjZWhvbGRlcklkKyctbGlzdF0nKS5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYi1kcm9wZG93bl9faW5wdXQnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBuYW1lID0gJCh0aGlzKS5hdHRyKCduYW1lJyk7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSAkKCdsYWJlbFtmb3I9JytuYW1lKyctaXRlbS0nICsgJCh0aGlzKS52YWwoKSArICddJykudGV4dCgpXG4gICAgICAgICAgICAkKCcuYi1kcm9wZG93bl9fcGxhY2Vob2xkZXJbaWQ9JytuYW1lKyddJykudGV4dChsYWJlbCk7XG4gICAgICAgICAgICAkKCcuYi1kcm9wZG93bl9fbGlzdFtpZD0nK25hbWUrJy1saXN0XScpLnNsaWRlVXAoJ3Nsb3cnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBwYXltZW50TWV0aG9kUGxhY2Vob2xkZXIgPSAkKCdsYWJlbFtmb3I9cGF5bWVudE1ldGhvZC1pdGVtLScgKyAkKCcuYi1kcm9wZG93bl9faW5wdXRbbmFtZT1wYXltZW50TWV0aG9kXTpjaGVja2VkJykuYXR0cigndmFsdWUnKSArICddJykudGV4dCgpO1xuICAgICAgICAgICAgJCgnLmItZHJvcGRvd25fX3BsYWNlaG9sZGVyW2lkPXBheW1lbnRNZXRob2RdJykudGV4dChwYXltZW50TWV0aG9kUGxhY2Vob2xkZXIpO1xuXG4gICAgICAgICAgICB2YXIgZGVsaXZlcnlNZXRob2RQbGFjZWhvbGRlciA9ICQoJ2xhYmVsW2Zvcj1kZWxpdmVyeU1ldGhvZC1pdGVtLScgKyAkKCcuYi1kcm9wZG93bl9faW5wdXRbbmFtZT1kZWxpdmVyeU1ldGhvZF06Y2hlY2tlZCcpLmF0dHIoJ3ZhbHVlJykgKyAnXScpLnRleHQoKTtcbiAgICAgICAgICAgICQoJy5iLWRyb3Bkb3duX19wbGFjZWhvbGRlcltpZD1kZWxpdmVyeU1ldGhvZF0nKS50ZXh0KGRlbGl2ZXJ5TWV0aG9kUGxhY2Vob2xkZXIpO1xuXG4gICAgICAgICQoJy5iLXNlYXJjaF9fYnV0dG9uLXVwJykubW91c2VvdmVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKHRoaXMpLmFuaW1hdGUoe29wYWNpdHk6IDF9LCAxMDApO1xuICAgICAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCh0aGlzKS5hbmltYXRlKHtvcGFjaXR5OiAwLjV9LCAxMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYi1zZWFyY2hfX2J1dHRvbi11cCcpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA0MDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJChkb2N1bWVudCkud2lkdGgoKSA+IDEwMjQpe1xuICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChzY3JvbGxVcFdpbmRvdyk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcuYi1zZWFyY2gtbGluZV9faW5wdXQnKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRlbGF5KGxpdmVTZWFyY2gsIDE1MDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCdpbnB1dCcpLmF0dHIoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcblxuICAgIH0pO1xufSkoKTtcbihmdW5jdGlvbihBcHApIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBBcHAuZGlzcGxheUVycm9ycyA9IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gJCgnI2JpZy1mb3JtJykuYXR0cignY2xhc3MnKS8qLnNwbGl0KCcgJylbMF0qLztcbiAgICAgICAgdmFyIGJhc2VFcnJvciA9ICQoJy4nK2NsYXNzTmFtZSsnX19iYXNlLWVycm9yJyk7XG5cbiAgICAgICAgaWYgKGRhdGEuZXJyb3JzWydiYXNlJ10pe1xuICAgICAgICAgICAgYmFzZUVycm9yLmFkZENsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICBiYXNlRXJyb3IudGV4dChkYXRhLmVycm9yc1snYmFzZSddKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VFcnJvci5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5Jyk7XG5cbiAgICAgICAgICAgICQuZWFjaChkYXRhLmVycm9ycywgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgJCgnLicrY2xhc3NOYW1lKydfX2lucHV0W25hbWU9JytrZXkrJ10nKS5yZW1vdmVDbGFzcygnanMtbm9ybWFsLWlucHV0JykuYWRkQ2xhc3MoJ2pzLWVycm9yLWlucHV0Jyk7XG4gICAgICAgICAgICAgICAgJCgnLicrY2xhc3NOYW1lKydfX2Zvci1lcnJvciMnK2tleSsnLWZvci1lcnJvcicpLnJlbW92ZUNsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5hZGRDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICAgICAgICAgICQoJy4nK2NsYXNzTmFtZSsnX19pbnZhbGlkIycra2V5KyctZXJyb3InKS5yZW1vdmVDbGFzcygnanMtbm9uZS1kaXNwbGF5JykuYWRkQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgICAgICAkKCcuJytjbGFzc05hbWUrJ19faW52YWxpZCMnK2tleSsnLWVycm9yJykudGV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KSh3aW5kb3cuQXBwKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHZhbGlkYXRlRm9ybSA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICB2YXIgaW5wdXQgPSAkKCcuZ2VuZXJhbC1pbnB1dF9faW5wdXRbdHlwZT10ZXh0XScpO1xuICAgICAgICB2YXIgaW52YWxpZCA9ICQoJy5nZW5lcmFsLWlucHV0X19pbnZhbGlkJyk7XG4gICAgICAgIHZhciBmb3JFcnJvciA9ICQoJy5nZW5lcmFsLWlucHV0X19mb3ItZXJyb3InKTtcblxuICAgICAgICB2YXIgZW1haWwgPSBpbnB1dC52YWwoKTtcblxuICAgICAgICBpbnB1dC5hZGRDbGFzcygnanMtbm9ybWFsLWlucHV0JykucmVtb3ZlQ2xhc3MoJ2pzLWVycm9yLWlucHV0Jyk7XG4gICAgICAgIGludmFsaWQuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLnJlbW92ZUNsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIGZvckVycm9yLmFkZENsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5yZW1vdmVDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBpbnZhbGlkLnRleHQoJycpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiAnL2luZm8tZm9yLXBvbHlncmFwaHknLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGRhdGE6IHsnZW1haWwnOiBlbWFpbH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2luZm8tZm9yLXBvbHlncmFwaHktc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5BcHAuZGlzcGxheUVycm9ycyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgICAgICQoJ2lucHV0JykuYXR0cignYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuICAgICAgICAkKCcuZ2VuZXJhbC1zdWJtaXRbaWQ9c3VibWl0LWVtYWlsXScpLmNsaWNrKHZhbGlkYXRlRm9ybSk7XG5cbiAgICAgICAgJCgnI3JlcXVlc3QtZm9ybScpLmJpbmQoJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0pO1xufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHJlcXVlc3RJZCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICB1cmw6ICcvYWRtaW4vc2VuZC1yZWdpc3RyYXRpb24tbGluaycsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgZGF0YTogeydyZXF1ZXN0SWQnOiBpZH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZURhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxSWQgPSByZXNwb25zZURhdGEuaWQ7XG4gICAgICAgICAgICAgICAgdmFyIGluc2lkZVRhYiA9ICQoJy5iLWluc2lkZS10YWJzX19saW5rIGFbaWQ9JytyZXFJZCsnXScpO1xuICAgICAgICAgICAgICAgICQoJy5iLWluc2lkZS10YWJzX19nZW5lcmF0ZS1saW5rIGFbaWQ9JytyZXFJZCsnXScpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBpbnNpZGVUYWIuYXR0cignaHJlZicsIHJlc3BvbnNlRGF0YS5saW5rKTtcbiAgICAgICAgICAgICAgICBpbnNpZGVUYWIudGV4dChyZXNwb25zZURhdGEubGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlQmlkID0gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuXG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgdmFyIGJ0biA9ICQodGhpcyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICB1cmw6ICcvYWRtaW4vcmVtb3ZlLXJlcXVlc3Qtb24tcmVnaXN0cmF0aW9uJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBkYXRhOiB7J3JlcXVlc3RJZCc6IGlkfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoYnRuKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVGcm9tU2VhcmNoID0gZnVuY3Rpb24oaWQsIGJ0bil7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ21ldGFbbmFtZT1fY3NyZl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXIgPSAkKCdtZXRhW25hbWU9X2NzcmZfaGVhZGVyXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaGVhZGVyc1toZWFkZXJdID0gdG9rZW47XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICB1cmw6ICcvYWRtaW4vcmVtb3ZlLXBvbHlncmFwaHknLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGRhdGE6IHsncG9seWdyYXBoeUlkJzogaWR9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJChidG4pLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJy5iLXBvcHVwLXZlcmlmaWNhdGlvbicpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBhdmFpbGFiaWxpdHlJblNlYXJjaCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICB2YXIgbGFiZWwgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2ZvcicpO1xuICAgICAgICB2YXIgbmFtZSA9ICQodGhpcykuYXR0cignZGF0YS1uYW1lJyk7XG4gICAgICAgIHZhciBjaGVja2JveCA9ICQoJy5iLWluc2lkZS10YWJzX19jaGVja2JveFtpZD0nK2lkKyddJyk7XG4gICAgICAgIHZhciBjdXJDb25kaXRpb24gPSBjaGVja2JveC5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICB1cmw6ICcvYWRtaW4vY2hhbmdlLWNvbmRpdGlvbi1kaXNwbGF5LXBvbHlncmFwaHknLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAncG9seWdyYXBoeUlkJzogaWQsXG4gICAgICAgICAgICAgICAgJ2N1ckNvbmRpdGlvbic6IGN1ckNvbmRpdGlvblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJDb25kaXRpb24pe1xuICAgICAgICAgICAgICAgICAgICAkKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAkKGxhYmVsKS5jc3MoJ2JhY2tncm91bmRQb3NpdGlvblknLCAnMHB4Jyk7XG4gICAgICAgICAgICAgICAgICAgICQuZ3JpdHRlci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn0J/QvtC70LjQs9GA0LDRhNC40Y8g0LHRi9C70LAg0LjRgdC60LvRjtGH0LXQvdCwINC40Lcg0L/QvtC40YHQutCwJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJChjaGVja2JveCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAkKGxhYmVsKS5jc3MoJ2JhY2tncm91bmRQb3NpdGlvblknLCAnLTMwcHgnKTtcbiAgICAgICAgICAgICAgICAgICAgJC5ncml0dGVyLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfQn9C+0LvQuNCz0YDQsNGE0LjRjyDQsdGL0LvQsCDQtNC+0LHQsNCy0LvQtdC90LAg0LIg0L/QvtC40YHQuidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGhpZGVQb3B1cFdpbmRvdyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICQoJy5iLXBvcHVwLXZlcmlmaWNhdGlvbicpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc3dpdGNoVGFicyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ItdGFic19fanMtaW5hY3RpdmUtdGFiJykuYWRkQ2xhc3MoJ2ItdGFic19fanMtYWN0aXZlLXRhYicpO1xuICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2ItdGFic19fanMtYWN0aXZlLXRhYicpLmFkZENsYXNzKCdiLXRhYnNfX2pzLWluYWN0aXZlLXRhYicpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgIHZhciBpbnNpZGVBY3RpdmVUYWIgPSAkKCcuYi1pbnNpZGUtdGFic19fY29udGVudFtpZD1pbnNpZGUtJytpZCsnXScpO1xuICAgICAgICBpbnNpZGVBY3RpdmVUYWIuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYi1pbnNpZGUtdGFic19fanMtaW5zaWRlLWFjdGl2ZS10YWInKS5hZGRDbGFzcygnYi1pbnNpZGUtdGFic19fanMtaW5zaWRlLWluYWN0aXZlLXRhYicpO1xuICAgICAgICBpbnNpZGVBY3RpdmVUYWIucmVtb3ZlQ2xhc3MoJ2ItaW5zaWRlLXRhYnNfX2pzLWluc2lkZS1pbmFjdGl2ZS10YWInKS5hZGRDbGFzcygnYi1pbnNpZGUtdGFic19fanMtaW5zaWRlLWFjdGl2ZS10YWInKTtcbiAgICB9O1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuICAgICAgICAkKCcuYi10YWJzX190YWInKS5vbignY2xpY2snLCBzd2l0Y2hUYWJzKTtcblxuICAgICAgICAkKCcuYi1pbnNpZGUtdGFic19fdGFibGUtcm93Jykub24oJ2NsaWNrJywgJy5iLWluc2lkZS10YWJzX19nZW5lcmF0ZS1saW5rIGEnLCByZXF1ZXN0SWQpO1xuXG4gICAgICAgICQoJy5iLWluc2lkZS10YWJzX19sYWJlbCcpLm9uKCdjbGljaycsIGF2YWlsYWJpbGl0eUluU2VhcmNoKTtcblxuICAgICAgICAkKCcuYi1pbnNpZGUtdGFic19fanMtcmVtb3ZlLWJpZCcpLm9uKCdjbGljaycsIHJlbW92ZUJpZCk7XG5cbiAgICAgICAgJCgnLmItaW5zaWRlLXRhYnNfX2pzLXJlbW92ZS1mcm9tLXNlYXJjaCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgIHZhciBidG4gPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHZlcmlmaWNhdGlvbiA9ICQoJy5iLXBvcHVwLXZlcmlmaWNhdGlvbicpO1xuICAgICAgICAgICAgdmFyIHZlcmlmaWNhdGlvbkNsYXNzID0gdmVyaWZpY2F0aW9uLmF0dHIoJ2NsYXNzJyk7XG5cbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbi5mYWRlSW4oJ2Zhc3QnKTtcblxuICAgICAgICAgICAgJCgnLicrdmVyaWZpY2F0aW9uQ2xhc3MrJ19fbWFpbicpLm9uKCdjbGljaycsICcuJyt2ZXJpZmljYXRpb25DbGFzcysnX19hbnN3ZXInLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2Fuc3dlcicpPT09J3llcycpe1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tU2VhcmNoKGlkLCBidG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICB2ZXJpZmljYXRpb24uZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYi1wb3B1cC12ZXJpZmljYXRpb24nKS5jbGljayhoaWRlUG9wdXBXaW5kb3cpO1xuXG4gICAgfSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIChmdW5jdGlvbigkKSB7XG4gICAgICAgICQuZm4uZm9ybVRvV2l6YXJkID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b246ICcnXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSAkKGVsZW1lbnQpLmZpbmQoJ2ZpZWxkc2V0Jyk7XG4gICAgICAgICAgICB2YXIgY291bnQgPSBzdGVwcy5zaXplKCk7XG4gICAgICAgICAgICB2YXIgc3VibWl0QnV0dG9uTmFtZSA9ICcjJyArIG9wdGlvbnMuc3VibWl0QnV0dG9uO1xuICAgICAgICAgICAgJChzdWJtaXRCdXR0b25OYW1lKS5oaWRlKCk7XG5cbiAgICAgICAgICAgIC8vIDJcbiAgICAgICAgICAgICQoZWxlbWVudCkuYmVmb3JlKCc8dWwgaWQ9XCJzdGVwc1wiPjwvdWw+Jyk7XG5cbiAgICAgICAgICAgIHN0ZXBzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgICQodGhpcykud3JhcChcIjxkaXYgaWQ9J3N0ZXBcIiArIGkgKyBcIic+PC9kaXY+XCIpO1xuICAgICAgICAgICAgICAgICQodGhpcykuYXBwZW5kKFwiPGRpdiBpZD0nc3RlcFwiICsgaSArIFwiY29tbWFuZHMnPjwvZGl2PlwiKTtcblxuICAgICAgICAgICAgICAgIC8vIDJcbiAgICAgICAgICAgICAgICAvL3ZhciBuYW1lID0gJCh0aGlzKS5maW5kKCdsZWdlbmQnKS5odG1sKCk7XG4gICAgICAgICAgICAgICAgJCgnI3N0ZXBzJykuYXBwZW5kKFwiPGxpIGlkPSdzdGVwRGVzY1wiICsgaSArIFwiJz7QqNCw0LMgXCIgKyAoaSArIDEpICsgLypcIjxzcGFuPlwiICsgbmFtZSArIFwiPC9zcGFuPiovXCI8L2xpPlwiKTtcblxuICAgICAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTmV4dEJ1dHRvbihpKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RlcChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA9PSBjb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0ZXAnICsgaSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcmV2QnV0dG9uKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0ZXAnICsgaSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcmV2QnV0dG9uKGkpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOZXh0QnV0dG9uKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVQcmV2QnV0dG9uKGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcE5hbWUgPSAnc3RlcCcgKyBpO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc3RlcE5hbWUgKyAnY29tbWFuZHMnKS5hcHBlbmQoXCI8YSBocmVmPScjJyBpZD0nXCIgKyBzdGVwTmFtZSArIFwiUHJldicgY2xhc3M9J2pzLXByZXYnPjwg0J/RgNC10LTRi9C00YPRidC40Lkg0YjQsNCzPC9hPlwiKTtcblxuICAgICAgICAgICAgICAgICQoJyMnICsgc3RlcE5hbWUgKyAnUHJldicpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgc3RlcE5hbWUpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0ZXAnICsgKGkgLSAxKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKHN1Ym1pdEJ1dHRvbk5hbWUpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RlcChpIC0gMSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU5leHRCdXR0b24oaSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGVwTmFtZSA9ICdzdGVwJyArIGk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzdGVwTmFtZSArICdjb21tYW5kcycpLmFwcGVuZChcIjxhIGhyZWY9JyMnIGlkPSdcIiArIHN0ZXBOYW1lICsgXCJOZXh0JyBjbGFzcz0nanMtbmV4dCc+0KHQu9C10LTRg9GO0YnQuNC5INGI0LDQsyA+PC9hPlwiKTtcblxuICAgICAgICAgICAgICAgICQoJyMnICsgc3RlcE5hbWUgKyAnTmV4dCcpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSAkKCcuYi1yZWdpc3RyYXRpb25fX2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnZhbGlkID0gJCgnLmItcmVnaXN0cmF0aW9uX19pbnZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JFcnJvciA9ICQoJy5iLXJlZ2lzdHJhdGlvbl9fZm9yLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlRXJyb3IgPSAkKCcuYi1yZWdpc3RyYXRpb25fX2Jhc2UtZXJyb3InKTtcblxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5hZGRDbGFzcygnanMtbm9ybWFsLWlucHV0JykucmVtb3ZlQ2xhc3MoJ2pzLWVycm9yLWlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWQuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLnJlbW92ZUNsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgIGZvckVycm9yLmFkZENsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5yZW1vdmVDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkLnRleHQoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIENLRURJVE9SLmluc3RhbmNlc1sndGV4dC1hcmVhLWZpZWxkJ10udXBkYXRlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlRXJyb3IuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlRXJyb3IudGV4dCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzWyQodGhpcykuYXR0cignbmFtZScpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdHJhdGlvbi9maXJzdC1zdGVwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IG5hbWVzLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IG5hbWVzLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogbmFtZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkcmVzcyc6IG5hbWVzLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bob25lJzogbmFtZXMucGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3B1YmxpY0VtYWlsJzogbmFtZXMucHVibGljRW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dlYnNpdGUnOiBuYW1lcy53ZWJzaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0QXJlYSc6IG5hbWVzLnRleHRBcmVhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXNoJzogbmFtZXMuaGFzaFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/Qv9GA0LjQvNC10L3Rj9C10Lwg0LTQtdC50YHRgtCy0LjQtSDQv9C+INGD0LzQvtC70YfQsNC90LjRjiDQtNC70Y8g0LrQvdC+0L/QutC4ICfQodC70LXQtNGD0Y7RidC40Lkg0YjQsNCzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHN0ZXBOYW1lKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdGVwJyArIChpICsgMSkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgKyAyID09IGNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzdWJtaXRCdXR0b25OYW1lKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ZXAoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuQXBwLmRpc3BsYXlFcnJvcnMoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2VsZWN0U3RlcChpKSB7XG4gICAgICAgICAgICAgICAgJCgnI3N0ZXBzIGxpJykucmVtb3ZlQ2xhc3MoJ2pzLWN1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAkKCcjc3RlcERlc2MnICsgaSkuYWRkQ2xhc3MoJ2pzLWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKGpRdWVyeSk7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgICAgICQoJ2lucHV0JykuYXR0cignYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuXG4gICAgICAgICQoJyNyZWdpc3RyYXRpb24tZm9ybScpLmZvcm1Ub1dpemFyZCh7IHN1Ym1pdEJ1dHRvbjogJ3N1Ym1pdC1yZWdpc3RyYXRpb24tZm9ybScgfSk7XG5cbiAgICB9KTtcbn0pKCk7XG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB2YWxpZGF0ZVNlY29uZFN0ZXAgPSBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ21ldGFbbmFtZT1fY3NyZl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXIgPSAkKCdtZXRhW25hbWU9X2NzcmZfaGVhZGVyXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaGVhZGVyc1toZWFkZXJdID0gdG9rZW47XG5cbiAgICAgICAgdmFyIGlucHV0ID0gJCgnLmItcmVnaXN0cmF0aW9uX19pbnB1dCcpO1xuICAgICAgICB2YXIgaW52YWxpZCA9ICQoJy5iLXJlZ2lzdHJhdGlvbl9faW52YWxpZCcpO1xuICAgICAgICB2YXIgZm9yRXJyb3IgPSAkKCcuYi1yZWdpc3RyYXRpb25fX2Zvci1lcnJvcicpO1xuXG4gICAgICAgIGlucHV0LmFkZENsYXNzKCdqcy1ub3JtYWwtaW5wdXQnKS5yZW1vdmVDbGFzcygnanMtZXJyb3ItaW5wdXQnKTtcbiAgICAgICAgaW52YWxpZC5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5JykucmVtb3ZlQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgZm9yRXJyb3IuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLnJlbW92ZUNsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIGludmFsaWQudGV4dCgnJyk7XG5cbiAgICAgICAgQ0tFRElUT1IuaW5zdGFuY2VzWyd0ZXh0LWFyZWEtZmllbGQnXS51cGRhdGVFbGVtZW50KCk7XG4gICAgICAgIHZhciB3cml0ZXNUaGVDaGVjayA9ICQoJy5qcy13dGMnKS5wcm9wKCdjaGVja2VkJyk7XG4gICAgICAgIHZhciBvcmRlckJ5RW1haWwgPSAkKCcuanMtb2JlJykucHJvcCgnY2hlY2tlZCcpO1xuXG4gICAgICAgIC8qINCf0L7Qu9GPINC/0LXRgNCy0L7Qs9C+INGI0LDQs9CwICovXG4gICAgICAgIHZhciBuYW1lcyA9IHt9O1xuICAgICAgICBpbnB1dC5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBuYW1lc1skKHRoaXMpLmF0dHIoJ25hbWUnKV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiDQn9C+0LvRjyDQstGC0L7RgNC+0LPQviDRiNCw0LPQsCAqL1xuICAgICAgICB2YXIgY2hlY2tib3hlcyA9IHt9O1xuICAgICAgICAkKCcuYi1yZWdpc3RyYXRpb25fX2NoZWNrYm94JykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgY2hlY2tib3hlc1skKHRoaXMpLmF0dHIoJ25hbWUnKV0gPSBbXTtcbiAgICAgICAgfSk7XG4gICAgICAgICQuZWFjaChjaGVja2JveGVzLCBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgICAgICAgICQoJy5iLXJlZ2lzdHJhdGlvbl9fY2hlY2tib3hbbmFtZT0nK2tleSsnXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goJCh0aGlzKS5hdHRyKCd2YWx1ZScpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHVybDogJy9yZWdpc3RyYXRpb24vc2Vjb25kLXN0ZXAnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgZmlyc3RGb3JtOiB7XG4gICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IG5hbWVzLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAncGFzc3dvcmQnOiBuYW1lcy5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBuYW1lcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAnYWRkcmVzcyc6IG5hbWVzLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICdwaG9uZSc6IG5hbWVzLnBob25lLFxuICAgICAgICAgICAgICAgICAgICAncHVibGljRW1haWwnOiBuYW1lcy5wdWJsaWNFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgJ3dlYnNpdGUnOiBuYW1lcy53ZWJzaXRlLFxuICAgICAgICAgICAgICAgICAgICAnaW5mbyc6IG5hbWVzLnRleHRBcmVhLFxuICAgICAgICAgICAgICAgICAgICAnaGFzaCc6IG5hbWVzLmhhc2hcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlY29uZEZvcm06IHtcbiAgICAgICAgICAgICAgICAgICAgJ3BheW1lbnRNZXRob2RzJzogY2hlY2tib3hlcy5wYXltZW50TWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgJ2RlbGl2ZXJ5TWV0aG9kcyc6IGNoZWNrYm94ZXMuZGVsaXZlcnlNZXRob2RzLFxuICAgICAgICAgICAgICAgICAgICAnc2VydmljZXMnOiBjaGVja2JveGVzLnNlcnZpY2VzLFxuICAgICAgICAgICAgICAgICAgICAnd3JpdGVzVGhlQ2hlY2snOiB3cml0ZXNUaGVDaGVjayxcbiAgICAgICAgICAgICAgICAgICAgJ29yZGVyQnlFbWFpbCc6IG9yZGVyQnlFbWFpbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9yZWdpc3RyYXRpb24tc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5BcHAuZGlzcGxheUVycm9ycyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgICAgICQoJ2lucHV0JykuYXR0cignYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuXG4gICAgICAgICQoJy5iLXJlZ2lzdHJhdGlvbicpLm9uKCdjbGljaycsICcuYi1yZWdpc3RyYXRpb25fX3N1Ym1pdCcsIHZhbGlkYXRlU2Vjb25kU3RlcCk7XG5cbiAgICB9KTtcblxufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHZhbGlkYXRlRWRpdEZvcm0gPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuXG4gICAgICAgIHZhciB1cmwgPSAkKCdmb3JtJykuYXR0cignYWN0aW9uJyk7XG5cbiAgICAgICAgQ0tFRElUT1IuaW5zdGFuY2VzWyd0ZXh0LWFyZWEtZmllbGQnXS51cGRhdGVFbGVtZW50KCk7XG4gICAgICAgIHZhciB3cml0ZXNUaGVDaGVjayA9ICQoJy5qcy13dGMnKS5wcm9wKCdjaGVja2VkJyk7XG4gICAgICAgIHZhciBvcmRlckJ5RW1haWwgPSAkKCcuanMtb2JlJykucHJvcCgnY2hlY2tlZCcpO1xuXG4gICAgICAgIHZhciBpbnB1dCA9ICQoJy5iLWVkaXRfX2lucHV0Jyk7XG4gICAgICAgIHZhciBpbnZhbGlkID0gJCgnLmItZWRpdF9faW52YWxpZCcpO1xuICAgICAgICB2YXIgZm9yRXJyb3IgPSAkKCcuYi1lZGl0X19mb3ItZXJyb3InKTtcbiAgICAgICAgdmFyIGJhc2VFcnJvciA9ICQoJy5iLWVkaXRfX2Jhc2UtZXJyb3InKTtcblxuICAgICAgICB2YXIgbmFtZXMgPSB7fTtcbiAgICAgICAgaW5wdXQuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgbmFtZXNbJCh0aGlzKS5hdHRyKCduYW1lJyldID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2pzLW5vcm1hbC1pbnB1dCcpLnJlbW92ZUNsYXNzKCdqcy1lcnJvci1pbnB1dCcpO1xuICAgICAgICAgICAgaW52YWxpZC5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5JykucmVtb3ZlQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIGZvckVycm9yLmFkZENsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5yZW1vdmVDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICAgICAgaW52YWxpZC50ZXh0KCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoZWNrYm94ZXMgPSB7fTtcbiAgICAgICAgJCgnLmItZWRpdF9fY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjaGVja2JveGVzWyQodGhpcykuYXR0cignbmFtZScpXSA9IFtdO1xuICAgICAgICB9KTtcbiAgICAgICAgJC5lYWNoKGNoZWNrYm94ZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgICAgICAgJCgnLmItZWRpdF9fY2hlY2tib3hbbmFtZT0nK2tleSsnXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goJCh0aGlzKS5hdHRyKCd2YWx1ZScpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBiYXNlRXJyb3IuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpO1xuICAgICAgICBiYXNlRXJyb3IudGV4dCgnJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQVVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgJ3BvbHlncmFwaHlJZCc6IG5hbWVzLnBvbHlncmFwaHlJZCxcbiAgICAgICAgICAgICAgICAnZW1haWwnOiBuYW1lcy5lbWFpbCxcbiAgICAgICAgICAgICAgICAncGFzc3dvcmQnOiBuYW1lcy5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAnbmFtZSc6IG5hbWVzLm5hbWUsXG4gICAgICAgICAgICAgICAgJ2FkZHJlc3MnOiBuYW1lcy5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICdwaG9uZSc6IG5hbWVzLnBob25lLFxuICAgICAgICAgICAgICAgICdwdWJsaWNFbWFpbCc6IG5hbWVzLnB1YmxpY0VtYWlsLFxuICAgICAgICAgICAgICAgICd3ZWJzaXRlJzogbmFtZXMud2Vic2l0ZSxcbiAgICAgICAgICAgICAgICAnaW5mbyc6IG5hbWVzLnRleHRBcmVhLFxuICAgICAgICAgICAgICAgICdwYXltZW50TWV0aG9kcyc6IGNoZWNrYm94ZXMucGF5bWVudE1ldGhvZHMsXG4gICAgICAgICAgICAgICAgJ2RlbGl2ZXJ5TWV0aG9kcyc6IGNoZWNrYm94ZXMuZGVsaXZlcnlNZXRob2RzLFxuICAgICAgICAgICAgICAgICdzZXJ2aWNlcyc6IGNoZWNrYm94ZXMuc2VydmljZXMsXG4gICAgICAgICAgICAgICAgJ3dyaXRlc1RoZUNoZWNrJzogd3JpdGVzVGhlQ2hlY2ssXG4gICAgICAgICAgICAgICAgJ29yZGVyQnlFbWFpbCc6IG9yZGVyQnlFbWFpbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvc3VjY2Vzcy1lZGl0aW5nJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkFwcC5kaXNwbGF5RXJyb3JzKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuICAgICAgICAkKCcuYi1lZGl0X19zYXZlJykub24oJ2NsaWNrJywgdmFsaWRhdGVFZGl0Rm9ybSk7XG5cbiAgICB9KTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9