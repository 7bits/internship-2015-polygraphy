!function(){"use strict";var e={};window.App=e}(),function(){"use strict";$(document).ready(function(){$("ul.header__dropdown-menu").hide(),$(".header__menu-item.header_dropdown").click(function(){$("ul.header__dropdown-menu").toggle("fast")})})}(),function(){"use strict";function e(){var e=$("meta[name=_csrf]").attr("content"),t=$("meta[name=_csrf_header]").attr("content"),a={};a[t]=e;var s=Handlebars.compile($("#results").html()),i=$("#search-form").serialize();window.history.pushState("","","search?"+i),$(".b-search__js-loader").css("visibility","visible"),$.ajax({type:"POST",url:"/search",data:i,headers:a,success:function(e){console.log(e);var t=s({polygraphies:e});$(".b-search__polygraphies-list").html(t),$(".b-search__js-loader").css("visibility","hidden")},error:function(e,t){console.log(arguments),alert("Возникла ошибка: "+e.responseCode),$(".b-search__js-loader").css("visibility","visible")}})}var t=function(e){e.preventDefault(),$("body").css("overflow","hidden"),$(".b-search__overlay").css("overflow","auto"),$(".b-search__overlay").fadeIn("fast");var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=Handlebars.compile($("#pop-up-window-detail").html());console.log(this);var n=$(this).attr("id"),r="/polygraphy/"+n;console.log(r),$.ajax({type:"GET",dataType:"json",url:r,headers:s,success:function(e){$(".b-popup-window").html(i(e))},error:function(e,t){alert("Ошибка: "+e.responseCode)}})},a=function(){$(document).scrollTop()>0?$(".b-search__button-up").fadeIn("fast"):$(".b-search__button-up").fadeOut("fast")},s=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}(),i=function(){var e=$(this).attr("id");console.log(e),window.location.href="/polygraphy/"+e};$(document).ready(function(){$(".b-search__polygraphies-list").length&&e(),$("#search-form").on("submit",e),$("#search-form").change(e),$("#search-form").bind("keypress",function(t){return 13===t.keyCode?(t.preventDefault(),e(),!1):void 0}),$(".b-search__polygraphies-list").on("click",".b-results-item__detail a",t),$(".b-search__polygraphies-list").on("click",".b-results-item__name",t),$(this).on("click",".b-results-item__adaptive-name",i),$(this).on("click",".b-results-item__adaptive-detail-info",i),$(".b-search__overlay").click(function(e){e.target===this&&($(".b-search__overlay").fadeOut("fast"),$("body").css("overflow","auto"))}),$(this).keydown(function(e){return 27===e.keyCode?($(".b-search__overlay").fadeOut("fast"),!1):void 0}),$(this).on("click",".b-popup-window__close",function(){$(".b-search__overlay").fadeOut("fast"),$("body").css("overflow","auto")}),$(".b-dropdown__placeholder").click(function(){var e=$(this).attr("id");$(".b-dropdown__list[id="+e+"-list]").slideToggle()}),$(".b-dropdown__input").change(function(){var e=$(this).attr("name"),t=$("label[for="+e+"-item-"+$(this).val()+"]").text();$(".b-dropdown__placeholder[id="+e+"]").text(t),$(".b-dropdown__list[id="+e+"-list]").slideUp("slow")});var n=$("label[for=paymentMethod-item-"+$(".b-dropdown__input[name=paymentMethod]:checked").attr("value")+"]").text();$(".b-dropdown__placeholder[id=paymentMethod]").text(n);var r=$("label[for=deliveryMethod-item-"+$(".b-dropdown__input[name=deliveryMethod]:checked").attr("value")+"]").text();$(".b-dropdown__placeholder[id=deliveryMethod]").text(r),$(".b-search__button-up").mouseover(function(){$(this).animate({opacity:1},100)}).mouseout(function(){$(this).animate({opacity:.5},100)}),$(".b-search__button-up").click(function(){return $("body,html").animate({scrollTop:0},400),!1}),$(document).width()>1024&&$(window).scroll(a),$(".b-search-line__input").keyup(function(){s(e,1500)}),$("input").attr("autocomplete","off")})}(),function(e){"use strict";e.displayErrors=function(e){var t=$("#big-form").attr("class"),a=$("."+t+"__base-error");e.errors.base?(a.addClass("js-display-block"),a.text(e.errors.base)):(a.addClass("js-none-display"),$.each(e.errors,function(e,a){$("."+t+"__input[name="+e+"]").removeClass("js-normal-input").addClass("js-error-input"),$("."+t+"__for-error#"+e+"-for-error").removeClass("js-none-display").addClass("js-display-block"),$("."+t+"__invalid#"+e+"-error").removeClass("js-none-display").addClass("js-display-block"),$("."+t+"__invalid#"+e+"-error").text(a)}))}}(window.App),function(){"use strict";var e=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(".general-input__input[type=text]"),n=$(".general-input__invalid"),r=$(".general-input__for-error"),o=i.val();i.addClass("js-normal-input").removeClass("js-error-input"),n.addClass("js-none-display").removeClass("js-display-block"),r.addClass("js-none-display").removeClass("js-display-block"),n.text(""),$.ajax({type:"POST",dataType:"json",url:"/info-for-polygraphy",headers:s,data:{email:o},success:function(e){e.success?window.location.href="/info-for-polygraphy-success":window.App.displayErrors(e)}})};$(document).ready(function(){$("input").attr("autocomplete","off"),$(".general-submit[id=submit-email]").click(e),$("#request-form").bind("keypress",function(t){return 13===t.keyCode?(e(),!1):void 0})})}(),function(){"use strict";var e=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(this).attr("id");$.ajax({type:"POST",dataType:"json",url:"/admin/send-registration-link",headers:s,data:{requestId:i},success:function(e){var t=e.id,a=$(".b-inside-tabs__link a[id="+t+"]");$(".b-inside-tabs__generate-link a[id="+t+"]").parent().hide(),a.attr("href",e.link),a.text(e.link)}})},t=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(this).attr("id"),n=$(this);$.ajax({type:"POST",dataType:"json",url:"/admin/remove-request-on-registration",headers:s,data:{requestId:i},success:function(){$(n).parent().parent().remove()}})},a=function(e,t){var a=$("meta[name=_csrf]").attr("content"),s=$("meta[name=_csrf_header]").attr("content"),i={};i[s]=a,$.ajax({type:"POST",dataType:"json",url:"/admin/remove-polygraphy",headers:i,data:{polygraphyId:e},success:function(){$(t).parent().parent().parent().remove(),$(".b-popup-verification").fadeOut("fast")}})},s=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(this),n=$(this).attr("for"),r=$(this).attr("data-name"),o=$(".b-inside-tabs__checkbox[id="+n+"]"),d=o.prop("checked");$.ajax({type:"POST",dataType:"json",url:"/admin/edit-condition-display-polygraphy",headers:s,data:{polygraphyId:n,curCondition:d},success:function(){d?($(o).prop("checked",!1),$(i).css("backgroundPositionY","0px"),$.gritter.add({title:r,text:"Полиграфия была исключена из поиска"})):($(o).prop("checked",!0),$(i).css("backgroundPositionY","-30px"),$.gritter.add({title:r,text:"Полиграфия была добавлена в поиск"}))}})},i=function(e){e.target===this&&($(".b-popup-verification").fadeOut("fast"),$("body").css("overflow","auto"))},n=function(){$(this).removeClass("b-tabs__js-inactive-tab").addClass("b-tabs__js-active-tab"),$(this).siblings().removeClass("b-tabs__js-active-tab").addClass("b-tabs__js-inactive-tab");var e=$(this).attr("id"),t=$(".b-inside-tabs__content[id=inside-"+e+"]");t.siblings().removeClass("b-inside-tabs__js-inside-active-tab").addClass("b-inside-tabs__js-inside-inactive-tab"),t.removeClass("b-inside-tabs__js-inside-inactive-tab").addClass("b-inside-tabs__js-inside-active-tab")};$(document).ready(function(){$(".b-tabs__tab").on("click",n),$(".b-inside-tabs__table-row").on("click",".b-inside-tabs__generate-link a",e),$(".b-inside-tabs__label").on("click",s),$(".b-inside-tabs__js-remove-bid").on("click",t),$(".b-inside-tabs__js-remove-from-search").on("click",function(){var e=$(this).attr("id"),t=$(this),s=$(".b-popup-verification"),i=s.attr("class");s.fadeIn("fast"),$("."+i+"__main").on("click","."+i+"__answer",function(){"yes"===$(this).attr("answer")?a(e,t):s.fadeOut("fast")})}),$(".b-popup-verification").click(i)})}(),function(){"use strict";!function(e){e.fn.formToWizard=function(t){function a(t){var a="step"+t;e("#"+a+"commands").append("<a href='#' id='"+a+"Prev' class='js-prev'>< Предыдущий шаг</a>"),e("#"+a+"Prev").bind("click",function(s){e("#"+a).hide(),e("#step"+(t-1)).show(),e(d).hide(),i(t-1)})}function s(t){var a="step"+t;e("#"+a+"commands").append("<a href='#' id='"+a+"Next' class='js-next'>Следующий шаг ></a>"),e("#"+a+"Next").bind("click",function(s){s.preventDefault();var n=e("meta[name=_csrf]").attr("content"),r=e("meta[name=_csrf_header]").attr("content"),c={};c[r]=n;var l=e(".b-registration__input"),p=e(".b-registration__invalid"),u=e(".b-registration__for-error"),h=e(".b-registration__base-error");l.addClass("js-normal-input").removeClass("js-error-input"),p.addClass("js-none-display").removeClass("js-display-block"),u.addClass("js-none-display").removeClass("js-display-block"),p.text(""),CKEDITOR.instances["text-area-field"].updateElement(),h.addClass("js-none-display"),h.text("");var _={};l.each(function(){_[e(this).attr("name")]=e(this).val()}),e.ajax({type:"POST",dataType:"json",url:"/registration/first-step",headers:c,contentType:"application/json",data:JSON.stringify({email:_.email,password:_.password,name:_.name,address:_.address,phone:_.phone,publicEmail:_.publicEmail,website:_.website,textArea:_.textArea,hash:_.hash}),success:function(s){s.success?(e("#"+a).hide(),e("#step"+(t+1)).show(),t+2==o&&e(d).show(),i(t+1)):window.App.displayErrors(s)}})})}function i(t){e("#steps li").removeClass("js-current"),e("#stepDesc"+t).addClass("js-current")}t=e.extend({submitButton:""},t);var n=this,r=e(n).find("fieldset"),o=r.size(),d="#"+t.submitButton;e(d).hide(),e(n).before('<ul id="steps"></ul>'),r.each(function(t){e(this).wrap("<div id='step"+t+"'></div>"),e(this).append("<div id='step"+t+"commands'></div>"),e("#steps").append("<li id='stepDesc"+t+"'>Шаг "+(t+1)+"</li>"),0==t?(s(t),i(t)):t==o-1?(e("#step"+t).hide(),a(t)):(e("#step"+t).hide(),a(t),s(t))})}}(jQuery),$(document).ready(function(){$("input").attr("autocomplete","off"),$("#registration-form").formToWizard({submitButton:"submit-registration-form"})})}(),function(){"use strict";var e=function(e){e.preventDefault();var t=$("meta[name=_csrf]").attr("content"),a=$("meta[name=_csrf_header]").attr("content"),s={};s[a]=t;var i=$(".b-registration__input"),n=$(".b-registration__invalid"),r=$(".b-registration__for-error");i.addClass("js-normal-input").removeClass("js-error-input"),n.addClass("js-none-display").removeClass("js-display-block"),r.addClass("js-none-display").removeClass("js-display-block"),n.text(""),CKEDITOR.instances["text-area-field"].updateElement();var o=$(".js-wtc").prop("checked"),d=$(".js-obe").prop("checked"),c={};i.each(function(){c[$(this).attr("name")]=$(this).val()});var l={};$(".b-registration__checkbox").each(function(){l[$(this).attr("name")]=[]}),$.each(l,function(e,t){$(".b-registration__checkbox[name="+e+"]:checked").each(function(){t.push($(this).attr("value"))})}),$.ajax({type:"POST",dataType:"json",url:"/registration/second-step",headers:s,contentType:"application/json",data:JSON.stringify({firstForm:{email:c.email,password:c.password,name:c.name,address:c.address,phone:c.phone,publicEmail:c.publicEmail,website:c.website,info:c.textArea,hash:c.hash},secondForm:{paymentMethods:l.paymentMethods,deliveryMethods:l.deliveryMethods,services:l.services,writesTheCheck:o,orderByEmail:d}}),success:function(e){e.success?window.location.href="/registration-success":window.App.displayErrors(e)}})};$(document).ready(function(){$("input").attr("autocomplete","off"),$(".b-registration").on("click",".b-registration__submit",e)})}(),function(){"use strict";var e=function(){var e=$("meta[name=_csrf]").attr("content"),t=$("meta[name=_csrf_header]").attr("content"),a={};a[t]=e;var s=$("form").attr("action");CKEDITOR.instances["text-area-field"].updateElement();var i=$(".js-wtc").prop("checked"),n=$(".js-obe").prop("checked"),r=$(".b-edit__input"),o=$(".b-edit__invalid"),d=$(".b-edit__for-error"),c=$(".b-edit__base-error"),l={};r.each(function(){l[$(this).attr("name")]=$(this).val(),$(this).addClass("js-normal-input").removeClass("js-error-input"),o.addClass("js-none-display").removeClass("js-display-block"),d.addClass("js-none-display").removeClass("js-display-block"),o.text("")});var p={};$(".b-edit__checkbox").each(function(){p[$(this).attr("name")]=[]}),$.each(p,function(e,t){$(".b-edit__checkbox[name="+e+"]:checked").each(function(){t.push($(this).attr("value"))})}),c.addClass("js-none-display"),c.text(""),$.ajax({type:"PUT",dataType:"json",url:s,headers:a,contentType:"application/json",data:JSON.stringify({polygraphyId:l.polygraphyId,email:l.email,password:l.password,name:l.name,address:l.address,phone:l.phone,publicEmail:l.publicEmail,website:l.website,info:l.textArea,paymentMethods:p.paymentMethods,deliveryMethods:p.deliveryMethods,services:p.services,writesTheCheck:i,orderByEmail:n}),success:function(e){e.success?window.location.href="/editing-polygraphy-success":window.App.displayErrors(e)}})};$(document).ready(function(){$(".b-edit__save").on("click",e)})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiQXBwIiwid2luZG93IiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJoaWRlIiwiY2xpY2siLCJ0b2dnbGUiLCJsaXZlU2VhcmNoIiwidG9rZW4iLCJhdHRyIiwiaGVhZGVyIiwiaGVhZGVycyIsInRlbXBsYXRlIiwiSGFuZGxlYmFycyIsImNvbXBpbGUiLCJodG1sIiwibXNnIiwic2VyaWFsaXplIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImNzcyIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwicG9seWdyYXBoaWVzIiwiZXJyb3IiLCJ4aHIiLCJzdHIiLCJhcmd1bWVudHMiLCJhbGVydCIsInJlc3BvbnNlQ29kZSIsInBvcFVwV2luZG93IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZhZGVJbiIsInJlbmRlciIsInRoaXMiLCJpZCIsImRhdGFUeXBlIiwic2Nyb2xsVXBXaW5kb3ciLCJzY3JvbGxUb3AiLCJmYWRlT3V0IiwiZGVsYXkiLCJ0aW1lciIsImNhbGxiYWNrIiwibXMiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwianVtcFRvUGFnZU9mUG9seWdyYXBoeSIsImxvY2F0aW9uIiwiaHJlZiIsImxlbmd0aCIsIm9uIiwiY2hhbmdlIiwiYmluZCIsImUiLCJrZXlDb2RlIiwidGFyZ2V0Iiwia2V5ZG93biIsInBsYWNlaG9sZGVySWQiLCJzbGlkZVRvZ2dsZSIsIm5hbWUiLCJsYWJlbCIsInZhbCIsInRleHQiLCJzbGlkZVVwIiwicGF5bWVudE1ldGhvZFBsYWNlaG9sZGVyIiwiZGVsaXZlcnlNZXRob2RQbGFjZWhvbGRlciIsIm1vdXNlb3ZlciIsImFuaW1hdGUiLCJvcGFjaXR5IiwibW91c2VvdXQiLCJ3aWR0aCIsInNjcm9sbCIsImtleXVwIiwiZGlzcGxheUVycm9ycyIsImNsYXNzTmFtZSIsImJhc2VFcnJvciIsImVycm9ycyIsImFkZENsYXNzIiwiZWFjaCIsImtleSIsInZhbHVlIiwicmVtb3ZlQ2xhc3MiLCJ2YWxpZGF0ZUZvcm0iLCJpbnB1dCIsImludmFsaWQiLCJmb3JFcnJvciIsImVtYWlsIiwicmVxdWVzdElkIiwicmVzcG9uc2VEYXRhIiwicmVxSWQiLCJpbnNpZGVUYWIiLCJwYXJlbnQiLCJsaW5rIiwicmVtb3ZlQmlkIiwiYnRuIiwicmVtb3ZlIiwicmVtb3ZlRnJvbVNlYXJjaCIsInBvbHlncmFwaHlJZCIsImF2YWlsYWJpbGl0eUluU2VhcmNoIiwiY2hlY2tib3giLCJjdXJDb25kaXRpb24iLCJwcm9wIiwiZ3JpdHRlciIsImFkZCIsInRpdGxlIiwiaGlkZVBvcHVwV2luZG93Iiwic3dpdGNoVGFicyIsInNpYmxpbmdzIiwiaW5zaWRlQWN0aXZlVGFiIiwidmVyaWZpY2F0aW9uIiwidmVyaWZpY2F0aW9uQ2xhc3MiLCJmbiIsImZvcm1Ub1dpemFyZCIsIm9wdGlvbnMiLCJjcmVhdGVQcmV2QnV0dG9uIiwiaSIsInN0ZXBOYW1lIiwiYXBwZW5kIiwic2hvdyIsInN1Ym1pdEJ1dHRvbk5hbWUiLCJzZWxlY3RTdGVwIiwiY3JlYXRlTmV4dEJ1dHRvbiIsIkNLRURJVE9SIiwiaW5zdGFuY2VzIiwidXBkYXRlRWxlbWVudCIsIm5hbWVzIiwiY29udGVudFR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwicGFzc3dvcmQiLCJhZGRyZXNzIiwicGhvbmUiLCJwdWJsaWNFbWFpbCIsIndlYnNpdGUiLCJ0ZXh0QXJlYSIsImhhc2giLCJjb3VudCIsImV4dGVuZCIsInN1Ym1pdEJ1dHRvbiIsImVsZW1lbnQiLCJzdGVwcyIsImZpbmQiLCJzaXplIiwiYmVmb3JlIiwid3JhcCIsImpRdWVyeSIsInZhbGlkYXRlU2Vjb25kU3RlcCIsIndyaXRlc1RoZUNoZWNrIiwib3JkZXJCeUVtYWlsIiwiY2hlY2tib3hlcyIsInB1c2giLCJmaXJzdEZvcm0iLCJpbmZvIiwic2Vjb25kRm9ybSIsInBheW1lbnRNZXRob2RzIiwiZGVsaXZlcnlNZXRob2RzIiwic2Vy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TUksU0FDbEJ0RSxLQUFRa0UsRUFBTWxFLEtBQ2R1RSxRQUFXTCxFQUFNSyxRQUNqQkMsTUFBU04sRUFBTU0sTUFDZkMsWUFBZVAsRUFBTU8sWUFDckJDLFFBQVdSLEVBQU1RLFFBQ2pCbUIsS0FBUTNCLEVBQU1TLFNBQ2RvQixlQUFrQkwsRUFBV0ssZUFDN0JDLGdCQUFtQk4sRUFBV00sZ0JBQzlCQyxTQUFZUCxFQUFXTyxTQUN2QlQsZUFBa0JBLEVBQ2xCQyxhQUFnQkEsSUFFcEJqSSxRQUFTLFNBQVNELEdBRVhBLEVBQUtDLFFBQ0p6QixPQUFPcUQsU0FBU0MsS0FBTyw4QkFHdkJ0RCxPQUFPRCxJQUFJZ0YsY0FBY3ZELE1BT3pDdkIsR0FBRUMsVUFBVUMsTUFBTSxXQUVkRixFQUFFLGlCQUFpQnVELEdBQUcsUUFBUzJHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBBcHAgPSB7fTtcbiAgICB3aW5kb3cuQXBwID0gQXBwO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAkKCd1bC5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUnKS5oaWRlKCk7XG4gICAgICAgICQoJy5oZWFkZXJfX21lbnUtaXRlbS5oZWFkZXJfZHJvcGRvd24nKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCgndWwuaGVhZGVyX19kcm9wZG93bi1tZW51JykudG9nZ2xlKCdmYXN0Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSkoKTtcbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBsaXZlU2VhcmNoKCkge1xuICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZSgkKCcjcmVzdWx0cycpLmh0bWwoKSk7XG4gICAgICAgIHZhciBtc2cgPSAkKCcjc2VhcmNoLWZvcm0nKS5zZXJpYWxpemUoKTtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCcnLCcnLCAnc2VhcmNoPycgKyBtc2cpO1xuICAgICAgICAkKCcuYi1zZWFyY2hfX2pzLWxvYWRlcicpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvc2VhcmNoJyxcbiAgICAgICAgICAgIGRhdGE6IG1zZyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHBvbHlncmFwaGllczogZGF0YS8vLFxuICAgICAgICAgICAgICAgICAgICAvL3BvbHlncmFwaGllc0xpc3RJc051bGw6IGRhdGEucG9seWdyYXBoaWVzTGlzdElzTnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoJy5iLXNlYXJjaF9fcG9seWdyYXBoaWVzLWxpc3QnKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgICAgICQoJy5iLXNlYXJjaF9fanMtbG9hZGVyJykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiAgZnVuY3Rpb24oeGhyLCBzdHIpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ9CS0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwOiAnICsgeGhyLnJlc3BvbnNlQ29kZSk7XG4gICAgICAgICAgICAgICAgJCgnLmItc2VhcmNoX19qcy1sb2FkZXInKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHZhciBwb3BVcFdpbmRvdyA9IGZ1bmN0aW9uIChldmVudCl7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgICAkKCcuYi1zZWFyY2hfX292ZXJsYXknKS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcbiAgICAgICAgJCgnLmItc2VhcmNoX19vdmVybGF5JykuZmFkZUluKCdmYXN0Jyk7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ21ldGFbbmFtZT1fY3NyZl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXIgPSAkKCdtZXRhW25hbWU9X2NzcmZfaGVhZGVyXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaGVhZGVyc1toZWFkZXJdID0gdG9rZW47XG4gICAgICAgIHZhciByZW5kZXIgPSBIYW5kbGViYXJzLmNvbXBpbGUoJCgnI3BvcC11cC13aW5kb3ctZGV0YWlsJykuaHRtbCgpKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgdmFyIHVybCA9ICcvcG9seWdyYXBoeS8nK2lkO1xuICAgICAgICBjb25zb2xlLmxvZyh1cmwpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJy5iLXBvcHVwLXdpbmRvdycpLmh0bWwocmVuZGVyKGRhdGEpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogIGZ1bmN0aW9uKHhociwgc3RyKXtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsDogJyArIHhoci5yZXNwb25zZUNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHNjcm9sbFVwV2luZG93ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKCAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IDAgKSB7XG4gICAgICAgICAgICAkKCcuYi1zZWFyY2hfX2J1dHRvbi11cCcpLmZhZGVJbignZmFzdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLmItc2VhcmNoX19idXR0b24tdXAnKS5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGRlbGF5ID0gKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB0aW1lciA9IDA7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaywgbXMpe1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0ICh0aW1lcik7XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgdmFyIGp1bXBUb1BhZ2VPZlBvbHlncmFwaHkgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlkKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3BvbHlncmFwaHkvJytpZDtcbiAgICB9O1xuXG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgICAgIGlmICgkKCcuYi1zZWFyY2hfX3BvbHlncmFwaGllcy1saXN0JykubGVuZ3RoKSB7XG4gICAgICAgICAgICBsaXZlU2VhcmNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjc2VhcmNoLWZvcm0nKS5vbignc3VibWl0JywgbGl2ZVNlYXJjaCk7XG4gICAgICAgICQoJyNzZWFyY2gtZm9ybScpLmNoYW5nZShsaXZlU2VhcmNoKTtcblxuICAgICAgICAkKCcjc2VhcmNoLWZvcm0nKS5iaW5kKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGxpdmVTZWFyY2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5iLXNlYXJjaF9fcG9seWdyYXBoaWVzLWxpc3QnKS5vbignY2xpY2snLCAnLmItcmVzdWx0cy1pdGVtX19kZXRhaWwgYScsIHBvcFVwV2luZG93KTtcbiAgICAgICAgJCgnLmItc2VhcmNoX19wb2x5Z3JhcGhpZXMtbGlzdCcpLm9uKCdjbGljaycsICcuYi1yZXN1bHRzLWl0ZW1fX25hbWUnLCBwb3BVcFdpbmRvdyk7XG5cbiAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCAnLmItcmVzdWx0cy1pdGVtX19hZGFwdGl2ZS1uYW1lJywganVtcFRvUGFnZU9mUG9seWdyYXBoeSk7XG4gICAgICAgICQodGhpcykub24oJ2NsaWNrJywgJy5iLXJlc3VsdHMtaXRlbV9fYWRhcHRpdmUtZGV0YWlsLWluZm8nLCBqdW1wVG9QYWdlT2ZQb2x5Z3JhcGh5KTtcblxuICAgICAgICAkKCcuYi1zZWFyY2hfX292ZXJsYXknKS5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgICQoJy5iLXNlYXJjaF9fb3ZlcmxheScpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICAgICAgICAgICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdhdXRvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQodGhpcykua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiggZS5rZXlDb2RlID09PSAyNyApIHtcbiAgICAgICAgICAgICAgICAkKCcuYi1zZWFyY2hfX292ZXJsYXknKS5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgICQodGhpcykub24oJ2NsaWNrJywgJy5iLXBvcHVwLXdpbmRvd19fY2xvc2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCgnLmItc2VhcmNoX19vdmVybGF5JykuZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYi1kcm9wZG93bl9fcGxhY2Vob2xkZXInKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVySWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAkKCcuYi1kcm9wZG93bl9fbGlzdFtpZD0nK3BsYWNlaG9sZGVySWQrJy1saXN0XScpLnNsaWRlVG9nZ2xlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5iLWRyb3Bkb3duX19pbnB1dCcpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIG5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9ICQoJ2xhYmVsW2Zvcj0nK25hbWUrJy1pdGVtLScgKyAkKHRoaXMpLnZhbCgpICsgJ10nKS50ZXh0KClcbiAgICAgICAgICAgICQoJy5iLWRyb3Bkb3duX19wbGFjZWhvbGRlcltpZD0nK25hbWUrJ10nKS50ZXh0KGxhYmVsKTtcbiAgICAgICAgICAgICQoJy5iLWRyb3Bkb3duX19saXN0W2lkPScrbmFtZSsnLWxpc3RdJykuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHBheW1lbnRNZXRob2RQbGFjZWhvbGRlciA9ICQoJ2xhYmVsW2Zvcj1wYXltZW50TWV0aG9kLWl0ZW0tJyArICQoJy5iLWRyb3Bkb3duX19pbnB1dFtuYW1lPXBheW1lbnRNZXRob2RdOmNoZWNrZWQnKS5hdHRyKCd2YWx1ZScpICsgJ10nKS50ZXh0KCk7XG4gICAgICAgICAgICAkKCcuYi1kcm9wZG93bl9fcGxhY2Vob2xkZXJbaWQ9cGF5bWVudE1ldGhvZF0nKS50ZXh0KHBheW1lbnRNZXRob2RQbGFjZWhvbGRlcik7XG5cbiAgICAgICAgICAgIHZhciBkZWxpdmVyeU1ldGhvZFBsYWNlaG9sZGVyID0gJCgnbGFiZWxbZm9yPWRlbGl2ZXJ5TWV0aG9kLWl0ZW0tJyArICQoJy5iLWRyb3Bkb3duX19pbnB1dFtuYW1lPWRlbGl2ZXJ5TWV0aG9kXTpjaGVja2VkJykuYXR0cigndmFsdWUnKSArICddJykudGV4dCgpO1xuICAgICAgICAgICAgJCgnLmItZHJvcGRvd25fX3BsYWNlaG9sZGVyW2lkPWRlbGl2ZXJ5TWV0aG9kXScpLnRleHQoZGVsaXZlcnlNZXRob2RQbGFjZWhvbGRlcik7XG5cbiAgICAgICAgJCgnLmItc2VhcmNoX19idXR0b24tdXAnKS5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQodGhpcykuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDEwMCk7XG4gICAgICAgIH0pLm1vdXNlb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKHRoaXMpLmFuaW1hdGUoe29wYWNpdHk6IDAuNX0sIDEwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5iLXNlYXJjaF9fYnV0dG9uLXVwJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDQwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpID4gMTAyNCl7XG4gICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKHNjcm9sbFVwV2luZG93KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy5iLXNlYXJjaC1saW5lX19pbnB1dCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVsYXkobGl2ZVNlYXJjaCwgMTUwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJ2lucHV0JykuYXR0cignYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuXG4gICAgfSk7XG59KSgpO1xuKGZ1bmN0aW9uKEFwcCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIEFwcC5kaXNwbGF5RXJyb3JzID0gZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSAkKCcjYmlnLWZvcm0nKS5hdHRyKCdjbGFzcycpLyouc3BsaXQoJyAnKVswXSovO1xuICAgICAgICB2YXIgYmFzZUVycm9yID0gJCgnLicrY2xhc3NOYW1lKydfX2Jhc2UtZXJyb3InKTtcblxuICAgICAgICBpZiAoZGF0YS5lcnJvcnNbJ2Jhc2UnXSl7XG4gICAgICAgICAgICBiYXNlRXJyb3IuYWRkQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIGJhc2VFcnJvci50ZXh0KGRhdGEuZXJyb3JzWydiYXNlJ10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFzZUVycm9yLmFkZENsYXNzKCdqcy1ub25lLWRpc3BsYXknKTtcblxuICAgICAgICAgICAgJC5lYWNoKGRhdGEuZXJyb3JzLCBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgICAgICAgICAgICAkKCcuJytjbGFzc05hbWUrJ19faW5wdXRbbmFtZT0nK2tleSsnXScpLnJlbW92ZUNsYXNzKCdqcy1ub3JtYWwtaW5wdXQnKS5hZGRDbGFzcygnanMtZXJyb3ItaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAkKCcuJytjbGFzc05hbWUrJ19fZm9yLWVycm9yIycra2V5KyctZm9yLWVycm9yJykucmVtb3ZlQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLmFkZENsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgJCgnLicrY2xhc3NOYW1lKydfX2ludmFsaWQjJytrZXkrJy1lcnJvcicpLnJlbW92ZUNsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5hZGRDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICAgICAgICAgICQoJy4nK2NsYXNzTmFtZSsnX19pbnZhbGlkIycra2V5KyctZXJyb3InKS50ZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pKHdpbmRvdy5BcHApO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuXG4gICAgICAgIHZhciBpbnB1dCA9ICQoJy5nZW5lcmFsLWlucHV0X19pbnB1dFt0eXBlPXRleHRdJyk7XG4gICAgICAgIHZhciBpbnZhbGlkID0gJCgnLmdlbmVyYWwtaW5wdXRfX2ludmFsaWQnKTtcbiAgICAgICAgdmFyIGZvckVycm9yID0gJCgnLmdlbmVyYWwtaW5wdXRfX2Zvci1lcnJvcicpO1xuXG4gICAgICAgIHZhciBlbWFpbCA9IGlucHV0LnZhbCgpO1xuXG4gICAgICAgIGlucHV0LmFkZENsYXNzKCdqcy1ub3JtYWwtaW5wdXQnKS5yZW1vdmVDbGFzcygnanMtZXJyb3ItaW5wdXQnKTtcbiAgICAgICAgaW52YWxpZC5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5JykucmVtb3ZlQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgZm9yRXJyb3IuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLnJlbW92ZUNsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIGludmFsaWQudGV4dCgnJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICB1cmw6ICcvaW5mby1mb3ItcG9seWdyYXBoeScsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgZGF0YTogeydlbWFpbCc6IGVtYWlsfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvaW5mby1mb3ItcG9seWdyYXBoeS1zdWNjZXNzJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkFwcC5kaXNwbGF5RXJyb3JzKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCgnaW5wdXQnKS5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgICAgICQoJy5nZW5lcmFsLXN1Ym1pdFtpZD1zdWJtaXQtZW1haWxdJykuY2xpY2sodmFsaWRhdGVGb3JtKTtcblxuICAgICAgICAkKCcjcmVxdWVzdC1mb3JtJykuYmluZCgna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlRm9ybSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcbn0pKCk7XG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciByZXF1ZXN0SWQgPSBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ21ldGFbbmFtZT1fY3NyZl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXIgPSAkKCdtZXRhW25hbWU9X2NzcmZfaGVhZGVyXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaGVhZGVyc1toZWFkZXJdID0gdG9rZW47XG5cbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiAnL2FkbWluL3NlbmQtcmVnaXN0cmF0aW9uLWxpbmsnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGRhdGE6IHsncmVxdWVzdElkJzogaWR9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcUlkID0gcmVzcG9uc2VEYXRhLmlkO1xuICAgICAgICAgICAgICAgIHZhciBpbnNpZGVUYWIgPSAkKCcuYi1pbnNpZGUtdGFic19fbGluayBhW2lkPScrcmVxSWQrJ10nKTtcbiAgICAgICAgICAgICAgICAkKCcuYi1pbnNpZGUtdGFic19fZ2VuZXJhdGUtbGluayBhW2lkPScrcmVxSWQrJ10nKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgaW5zaWRlVGFiLmF0dHIoJ2hyZWYnLCByZXNwb25zZURhdGEubGluayk7XG4gICAgICAgICAgICAgICAgaW5zaWRlVGFiLnRleHQocmVzcG9uc2VEYXRhLmxpbmspO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlbW92ZUJpZCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgIHZhciBidG4gPSAkKHRoaXMpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiAnL2FkbWluL3JlbW92ZS1yZXF1ZXN0LW9uLXJlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgZGF0YTogeydyZXF1ZXN0SWQnOiBpZH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKGJ0bikucGFyZW50KCkucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlRnJvbVNlYXJjaCA9IGZ1bmN0aW9uKGlkLCBidG4pe1xuICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiAnL2FkbWluL3JlbW92ZS1wb2x5Z3JhcGh5JyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBkYXRhOiB7J3BvbHlncmFwaHlJZCc6IGlkfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoYnRuKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkKCcuYi1wb3B1cC12ZXJpZmljYXRpb24nKS5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYXZhaWxhYmlsaXR5SW5TZWFyY2ggPSBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ21ldGFbbmFtZT1fY3NyZl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXIgPSAkKCdtZXRhW25hbWU9X2NzcmZfaGVhZGVyXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaGVhZGVyc1toZWFkZXJdID0gdG9rZW47XG5cbiAgICAgICAgdmFyIGxhYmVsID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdmb3InKTtcbiAgICAgICAgdmFyIG5hbWUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtbmFtZScpO1xuICAgICAgICB2YXIgY2hlY2tib3ggPSAkKCcuYi1pbnNpZGUtdGFic19fY2hlY2tib3hbaWQ9JytpZCsnXScpO1xuICAgICAgICB2YXIgY3VyQ29uZGl0aW9uID0gY2hlY2tib3gucHJvcCgnY2hlY2tlZCcpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiAnL2FkbWluL2VkaXQtY29uZGl0aW9uLWRpc3BsYXktcG9seWdyYXBoeScsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdwb2x5Z3JhcGh5SWQnOiBpZCxcbiAgICAgICAgICAgICAgICAnY3VyQ29uZGl0aW9uJzogY3VyQ29uZGl0aW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1ckNvbmRpdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICQoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICQobGFiZWwpLmNzcygnYmFja2dyb3VuZFBvc2l0aW9uWScsICcwcHgnKTtcbiAgICAgICAgICAgICAgICAgICAgJC5ncml0dGVyLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfQn9C+0LvQuNCz0YDQsNGE0LjRjyDQsdGL0LvQsCDQuNGB0LrQu9GO0YfQtdC90LAg0LjQtyDQv9C+0LjRgdC60LAnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAkKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICQobGFiZWwpLmNzcygnYmFja2dyb3VuZFBvc2l0aW9uWScsICctMzBweCcpO1xuICAgICAgICAgICAgICAgICAgICAkLmdyaXR0ZXIuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ9Cf0L7Qu9C40LPRgNCw0YTQuNGPINCx0YvQu9CwINC00L7QsdCw0LLQu9C10L3QsCDQsiDQv9C+0LjRgdC6J1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgaGlkZVBvcHVwV2luZG93ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcykge1xuICAgICAgICAgICAgJCgnLmItcG9wdXAtdmVyaWZpY2F0aW9uJykuZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzd2l0Y2hUYWJzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYi10YWJzX19qcy1pbmFjdGl2ZS10YWInKS5hZGRDbGFzcygnYi10YWJzX19qcy1hY3RpdmUtdGFiJyk7XG4gICAgICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYi10YWJzX19qcy1hY3RpdmUtdGFiJykuYWRkQ2xhc3MoJ2ItdGFic19fanMtaW5hY3RpdmUtdGFiJyk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgdmFyIGluc2lkZUFjdGl2ZVRhYiA9ICQoJy5iLWluc2lkZS10YWJzX19jb250ZW50W2lkPWluc2lkZS0nK2lkKyddJyk7XG4gICAgICAgIGluc2lkZUFjdGl2ZVRhYi5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdiLWluc2lkZS10YWJzX19qcy1pbnNpZGUtYWN0aXZlLXRhYicpLmFkZENsYXNzKCdiLWluc2lkZS10YWJzX19qcy1pbnNpZGUtaW5hY3RpdmUtdGFiJyk7XG4gICAgICAgIGluc2lkZUFjdGl2ZVRhYi5yZW1vdmVDbGFzcygnYi1pbnNpZGUtdGFic19fanMtaW5zaWRlLWluYWN0aXZlLXRhYicpLmFkZENsYXNzKCdiLWluc2lkZS10YWJzX19qcy1pbnNpZGUtYWN0aXZlLXRhYicpO1xuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgICAgICQoJy5iLXRhYnNfX3RhYicpLm9uKCdjbGljaycsIHN3aXRjaFRhYnMpO1xuXG4gICAgICAgICQoJy5iLWluc2lkZS10YWJzX190YWJsZS1yb3cnKS5vbignY2xpY2snLCAnLmItaW5zaWRlLXRhYnNfX2dlbmVyYXRlLWxpbmsgYScsIHJlcXVlc3RJZCk7XG5cbiAgICAgICAgJCgnLmItaW5zaWRlLXRhYnNfX2xhYmVsJykub24oJ2NsaWNrJywgYXZhaWxhYmlsaXR5SW5TZWFyY2gpO1xuXG4gICAgICAgICQoJy5iLWluc2lkZS10YWJzX19qcy1yZW1vdmUtYmlkJykub24oJ2NsaWNrJywgcmVtb3ZlQmlkKTtcblxuICAgICAgICAkKCcuYi1pbnNpZGUtdGFic19fanMtcmVtb3ZlLWZyb20tc2VhcmNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGJ0biA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgdmVyaWZpY2F0aW9uID0gJCgnLmItcG9wdXAtdmVyaWZpY2F0aW9uJyk7XG4gICAgICAgICAgICB2YXIgdmVyaWZpY2F0aW9uQ2xhc3MgPSB2ZXJpZmljYXRpb24uYXR0cignY2xhc3MnKTtcblxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uLmZhZGVJbignZmFzdCcpO1xuXG4gICAgICAgICAgICAkKCcuJyt2ZXJpZmljYXRpb25DbGFzcysnX19tYWluJykub24oJ2NsaWNrJywgJy4nK3ZlcmlmaWNhdGlvbkNsYXNzKydfX2Fuc3dlcicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignYW5zd2VyJyk9PT0neWVzJyl7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21TZWFyY2goaWQsIGJ0bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbi5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5iLXBvcHVwLXZlcmlmaWNhdGlvbicpLmNsaWNrKGhpZGVQb3B1cFdpbmRvdyk7XG5cbiAgICB9KTtcblxufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgKGZ1bmN0aW9uKCQpIHtcbiAgICAgICAgJC5mbi5mb3JtVG9XaXphcmQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbjogJydcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBzdGVwcyA9ICQoZWxlbWVudCkuZmluZCgnZmllbGRzZXQnKTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHN0ZXBzLnNpemUoKTtcbiAgICAgICAgICAgIHZhciBzdWJtaXRCdXR0b25OYW1lID0gJyMnICsgb3B0aW9ucy5zdWJtaXRCdXR0b247XG4gICAgICAgICAgICAkKHN1Ym1pdEJ1dHRvbk5hbWUpLmhpZGUoKTtcblxuICAgICAgICAgICAgLy8gMlxuICAgICAgICAgICAgJChlbGVtZW50KS5iZWZvcmUoJzx1bCBpZD1cInN0ZXBzXCI+PC91bD4nKTtcblxuICAgICAgICAgICAgc3RlcHMuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS53cmFwKFwiPGRpdiBpZD0nc3RlcFwiICsgaSArIFwiJz48L2Rpdj5cIik7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoXCI8ZGl2IGlkPSdzdGVwXCIgKyBpICsgXCJjb21tYW5kcyc+PC9kaXY+XCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gMlxuICAgICAgICAgICAgICAgIC8vdmFyIG5hbWUgPSAkKHRoaXMpLmZpbmQoJ2xlZ2VuZCcpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAkKCcjc3RlcHMnKS5hcHBlbmQoXCI8bGkgaWQ9J3N0ZXBEZXNjXCIgKyBpICsgXCInPtCo0LDQsyBcIiArIChpICsgMSkgKyAvKlwiPHNwYW4+XCIgKyBuYW1lICsgXCI8L3NwYW4+Ki9cIjwvbGk+XCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOZXh0QnV0dG9uKGkpO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdGVwKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpID09IGNvdW50IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjc3RlcCcgKyBpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVByZXZCdXR0b24oaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcjc3RlcCcgKyBpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVByZXZCdXR0b24oaSk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU5leHRCdXR0b24oaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXZCdXR0b24oaSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGVwTmFtZSA9ICdzdGVwJyArIGk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzdGVwTmFtZSArICdjb21tYW5kcycpLmFwcGVuZChcIjxhIGhyZWY9JyMnIGlkPSdcIiArIHN0ZXBOYW1lICsgXCJQcmV2JyBjbGFzcz0nanMtcHJldic+PCDQn9GA0LXQtNGL0LTRg9GJ0LjQuSDRiNCw0LM8L2E+XCIpO1xuXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzdGVwTmFtZSArICdQcmV2JykuYmluZCgnY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBzdGVwTmFtZSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjc3RlcCcgKyAoaSAtIDEpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoc3VibWl0QnV0dG9uTmFtZSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdGVwKGkgLSAxKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlTmV4dEJ1dHRvbihpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBOYW1lID0gJ3N0ZXAnICsgaTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHN0ZXBOYW1lICsgJ2NvbW1hbmRzJykuYXBwZW5kKFwiPGEgaHJlZj0nIycgaWQ9J1wiICsgc3RlcE5hbWUgKyBcIk5leHQnIGNsYXNzPSdqcy1uZXh0Jz7QodC70LXQtNGD0Y7RidC40Lkg0YjQsNCzID48L2E+XCIpO1xuXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzdGVwTmFtZSArICdOZXh0JykuYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSAkKCdtZXRhW25hbWU9X2NzcmZdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gJCgnbWV0YVtuYW1lPV9jc3JmX2hlYWRlcl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbaGVhZGVyXSA9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9ICQoJy5iLXJlZ2lzdHJhdGlvbl9faW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludmFsaWQgPSAkKCcuYi1yZWdpc3RyYXRpb25fX2ludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvckVycm9yID0gJCgnLmItcmVnaXN0cmF0aW9uX19mb3ItZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VFcnJvciA9ICQoJy5iLXJlZ2lzdHJhdGlvbl9fYmFzZS1lcnJvcicpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmFkZENsYXNzKCdqcy1ub3JtYWwtaW5wdXQnKS5yZW1vdmVDbGFzcygnanMtZXJyb3ItaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZC5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5JykucmVtb3ZlQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yRXJyb3IuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLnJlbW92ZUNsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWQudGV4dCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgQ0tFRElUT1IuaW5zdGFuY2VzWyd0ZXh0LWFyZWEtZmllbGQnXS51cGRhdGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VFcnJvci5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VFcnJvci50ZXh0KCcnKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNbJCh0aGlzKS5hdHRyKCduYW1lJyldID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0cmF0aW9uL2ZpcnN0LXN0ZXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogbmFtZXMuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogbmFtZXMucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBuYW1lcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRyZXNzJzogbmFtZXMuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGhvbmUnOiBuYW1lcy5waG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHVibGljRW1haWwnOiBuYW1lcy5wdWJsaWNFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd2Vic2l0ZSc6IG5hbWVzLndlYnNpdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRBcmVhJzogbmFtZXMudGV4dEFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhc2gnOiBuYW1lcy5oYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9C/0YDQuNC80LXQvdGP0LXQvCDQtNC10LnRgdGC0LLQuNC1INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINC00LvRjyDQutC90L7Qv9C60LggJ9Ch0LvQtdC00YPRjtGJ0LjQuSDRiNCw0LMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgc3RlcE5hbWUpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N0ZXAnICsgKGkgKyAxKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDIgPT0gY291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN1Ym1pdEJ1dHRvbk5hbWUpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RlcChpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5BcHAuZGlzcGxheUVycm9ycyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzZWxlY3RTdGVwKGkpIHtcbiAgICAgICAgICAgICAgICAkKCcjc3RlcHMgbGknKS5yZW1vdmVDbGFzcygnanMtY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICQoJyNzdGVwRGVzYycgKyBpKS5hZGRDbGFzcygnanMtY3VycmVudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkoalF1ZXJ5KTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCgnaW5wdXQnKS5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG5cbiAgICAgICAgJCgnI3JlZ2lzdHJhdGlvbi1mb3JtJykuZm9ybVRvV2l6YXJkKHsgc3VibWl0QnV0dG9uOiAnc3VibWl0LXJlZ2lzdHJhdGlvbi1mb3JtJyB9KTtcblxuICAgIH0pO1xufSkoKTtcbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHZhbGlkYXRlU2Vjb25kU3RlcCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHRva2VuID0gJCgnbWV0YVtuYW1lPV9jc3JmXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlciA9ICQoJ21ldGFbbmFtZT1fY3NyZl9oZWFkZXJdJykuYXR0cignY29udGVudCcpO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSB0b2tlbjtcblxuICAgICAgICB2YXIgaW5wdXQgPSAkKCcuYi1yZWdpc3RyYXRpb25fX2lucHV0Jyk7XG4gICAgICAgIHZhciBpbnZhbGlkID0gJCgnLmItcmVnaXN0cmF0aW9uX19pbnZhbGlkJyk7XG4gICAgICAgIHZhciBmb3JFcnJvciA9ICQoJy5iLXJlZ2lzdHJhdGlvbl9fZm9yLWVycm9yJyk7XG5cbiAgICAgICAgaW5wdXQuYWRkQ2xhc3MoJ2pzLW5vcm1hbC1pbnB1dCcpLnJlbW92ZUNsYXNzKCdqcy1lcnJvci1pbnB1dCcpO1xuICAgICAgICBpbnZhbGlkLmFkZENsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5yZW1vdmVDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBmb3JFcnJvci5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5JykucmVtb3ZlQ2xhc3MoJ2pzLWRpc3BsYXktYmxvY2snKTtcbiAgICAgICAgaW52YWxpZC50ZXh0KCcnKTtcblxuICAgICAgICBDS0VESVRPUi5pbnN0YW5jZXNbJ3RleHQtYXJlYS1maWVsZCddLnVwZGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgdmFyIHdyaXRlc1RoZUNoZWNrID0gJCgnLmpzLXd0YycpLnByb3AoJ2NoZWNrZWQnKTtcbiAgICAgICAgdmFyIG9yZGVyQnlFbWFpbCA9ICQoJy5qcy1vYmUnKS5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgLyog0J/QvtC70Y8g0L/QtdGA0LLQvtCz0L4g0YjQsNCz0LAgKi9cbiAgICAgICAgdmFyIG5hbWVzID0ge307XG4gICAgICAgIGlucHV0LmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIG5hbWVzWyQodGhpcykuYXR0cignbmFtZScpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qINCf0L7Qu9GPINCy0YLQvtGA0L7Qs9C+INGI0LDQs9CwICovXG4gICAgICAgIHZhciBjaGVja2JveGVzID0ge307XG4gICAgICAgICQoJy5iLXJlZ2lzdHJhdGlvbl9fY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjaGVja2JveGVzWyQodGhpcykuYXR0cignbmFtZScpXSA9IFtdO1xuICAgICAgICB9KTtcbiAgICAgICAgJC5lYWNoKGNoZWNrYm94ZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgICAgICAgJCgnLmItcmVnaXN0cmF0aW9uX19jaGVja2JveFtuYW1lPScra2V5KyddOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFsdWUucHVzaCgkKHRoaXMpLmF0dHIoJ3ZhbHVlJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdHJhdGlvbi9zZWNvbmQtc3RlcCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBmaXJzdEZvcm06IHtcbiAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogbmFtZXMuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IG5hbWVzLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IG5hbWVzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICdhZGRyZXNzJzogbmFtZXMuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgJ3Bob25lJzogbmFtZXMucGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICdwdWJsaWNFbWFpbCc6IG5hbWVzLnB1YmxpY0VtYWlsLFxuICAgICAgICAgICAgICAgICAgICAnd2Vic2l0ZSc6IG5hbWVzLndlYnNpdGUsXG4gICAgICAgICAgICAgICAgICAgICdpbmZvJzogbmFtZXMudGV4dEFyZWEsXG4gICAgICAgICAgICAgICAgICAgICdoYXNoJzogbmFtZXMuaGFzaFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vjb25kRm9ybToge1xuICAgICAgICAgICAgICAgICAgICAncGF5bWVudE1ldGhvZHMnOiBjaGVja2JveGVzLnBheW1lbnRNZXRob2RzLFxuICAgICAgICAgICAgICAgICAgICAnZGVsaXZlcnlNZXRob2RzJzogY2hlY2tib3hlcy5kZWxpdmVyeU1ldGhvZHMsXG4gICAgICAgICAgICAgICAgICAgICdzZXJ2aWNlcyc6IGNoZWNrYm94ZXMuc2VydmljZXMsXG4gICAgICAgICAgICAgICAgICAgICd3cml0ZXNUaGVDaGVjayc6IHdyaXRlc1RoZUNoZWNrLFxuICAgICAgICAgICAgICAgICAgICAnb3JkZXJCeUVtYWlsJzogb3JkZXJCeUVtYWlsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3JlZ2lzdHJhdGlvbi1zdWNjZXNzJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkFwcC5kaXNwbGF5RXJyb3JzKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCgnaW5wdXQnKS5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG5cbiAgICAgICAgJCgnLmItcmVnaXN0cmF0aW9uJykub24oJ2NsaWNrJywgJy5iLXJlZ2lzdHJhdGlvbl9fc3VibWl0JywgdmFsaWRhdGVTZWNvbmRTdGVwKTtcblxuICAgIH0pO1xuXG59KSgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdmFsaWRhdGVFZGl0Rm9ybSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB0b2tlbiA9ICQoJ21ldGFbbmFtZT1fY3NyZl0nKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciBoZWFkZXIgPSAkKCdtZXRhW25hbWU9X2NzcmZfaGVhZGVyXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaGVhZGVyc1toZWFkZXJdID0gdG9rZW47XG5cbiAgICAgICAgdmFyIHVybCA9ICQoJ2Zvcm0nKS5hdHRyKCdhY3Rpb24nKTtcblxuICAgICAgICBDS0VESVRPUi5pbnN0YW5jZXNbJ3RleHQtYXJlYS1maWVsZCddLnVwZGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgdmFyIHdyaXRlc1RoZUNoZWNrID0gJCgnLmpzLXd0YycpLnByb3AoJ2NoZWNrZWQnKTtcbiAgICAgICAgdmFyIG9yZGVyQnlFbWFpbCA9ICQoJy5qcy1vYmUnKS5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgdmFyIGlucHV0ID0gJCgnLmItZWRpdF9faW5wdXQnKTtcbiAgICAgICAgdmFyIGludmFsaWQgPSAkKCcuYi1lZGl0X19pbnZhbGlkJyk7XG4gICAgICAgIHZhciBmb3JFcnJvciA9ICQoJy5iLWVkaXRfX2Zvci1lcnJvcicpO1xuICAgICAgICB2YXIgYmFzZUVycm9yID0gJCgnLmItZWRpdF9fYmFzZS1lcnJvcicpO1xuXG4gICAgICAgIHZhciBuYW1lcyA9IHt9O1xuICAgICAgICBpbnB1dC5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBuYW1lc1skKHRoaXMpLmF0dHIoJ25hbWUnKV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnanMtbm9ybWFsLWlucHV0JykucmVtb3ZlQ2xhc3MoJ2pzLWVycm9yLWlucHV0Jyk7XG4gICAgICAgICAgICBpbnZhbGlkLmFkZENsYXNzKCdqcy1ub25lLWRpc3BsYXknKS5yZW1vdmVDbGFzcygnanMtZGlzcGxheS1ibG9jaycpO1xuICAgICAgICAgICAgZm9yRXJyb3IuYWRkQ2xhc3MoJ2pzLW5vbmUtZGlzcGxheScpLnJlbW92ZUNsYXNzKCdqcy1kaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICBpbnZhbGlkLnRleHQoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY2hlY2tib3hlcyA9IHt9O1xuICAgICAgICAkKCcuYi1lZGl0X19jaGVja2JveCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNoZWNrYm94ZXNbJCh0aGlzKS5hdHRyKCduYW1lJyldID0gW107XG4gICAgICAgIH0pO1xuICAgICAgICAkLmVhY2goY2hlY2tib3hlcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICAgICAgICAkKCcuYi1lZGl0X19jaGVja2JveFtuYW1lPScra2V5KyddOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFsdWUucHVzaCgkKHRoaXMpLmF0dHIoJ3ZhbHVlJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhc2VFcnJvci5hZGRDbGFzcygnanMtbm9uZS1kaXNwbGF5Jyk7XG4gICAgICAgIGJhc2VFcnJvci50ZXh0KCcnKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAncG9seWdyYXBoeUlkJzogbmFtZXMucG9seWdyYXBoeUlkLFxuICAgICAgICAgICAgICAgICdlbWFpbCc6IG5hbWVzLmVtYWlsLFxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IG5hbWVzLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICduYW1lJzogbmFtZXMubmFtZSxcbiAgICAgICAgICAgICAgICAnYWRkcmVzcyc6IG5hbWVzLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgJ3Bob25lJzogbmFtZXMucGhvbmUsXG4gICAgICAgICAgICAgICAgJ3B1YmxpY0VtYWlsJzogbmFtZXMucHVibGljRW1haWwsXG4gICAgICAgICAgICAgICAgJ3dlYnNpdGUnOiBuYW1lcy53ZWJzaXRlLFxuICAgICAgICAgICAgICAgICdpbmZvJzogbmFtZXMudGV4dEFyZWEsXG4gICAgICAgICAgICAgICAgJ3BheW1lbnRNZXRob2RzJzogY2hlY2tib3hlcy5wYXltZW50TWV0aG9kcyxcbiAgICAgICAgICAgICAgICAnZGVsaXZlcnlNZXRob2RzJzogY2hlY2tib3hlcy5kZWxpdmVyeU1ldGhvZHMsXG4gICAgICAgICAgICAgICAgJ3NlcnZpY2VzJzogY2hlY2tib3hlcy5zZXJ2aWNlcyxcbiAgICAgICAgICAgICAgICAnd3JpdGVzVGhlQ2hlY2snOiB3cml0ZXNUaGVDaGVjayxcbiAgICAgICAgICAgICAgICAnb3JkZXJCeUVtYWlsJzogb3JkZXJCeUVtYWlsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9lZGl0aW5nLXBvbHlncmFwaHktc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5BcHAuZGlzcGxheUVycm9ycyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCgnLmItZWRpdF9fc2F2ZScpLm9uKCdjbGljaycsIHZhbGlkYXRlRWRpdEZvcm0pO1xuXG4gICAgfSk7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==