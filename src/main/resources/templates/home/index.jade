extends ../layouts/layout

block append content

    header.header
        .logo-box
            a(href='/')
                .logo
        .more-info
            .info-for-polygraphy
                Информация для полиграфий
            .about-project
                О проекте
        .slogan
            Не знаете, где сделать принт на футболку? Или напечатать быстро 1000 визиток?
            br
            Мы найдем полиграфии для ваших задач!

    .search
        form(id='form', method='post', action='/search')
            .search-line
                if form != null
                    if form.query != ""
                        input.search-field(name='query', type='text', value='#{form.query}')
                    else
                        input.search-field(name='query', type='text', placeholder='Что искать?')
                else
                    input.search-field(name='query', type='text', placeholder='Что искать?')
                .submit
                    button(type='submit') НАЙТИ ПОЛИГРАФИЮ

            .checkboxes
                Часто ищут:
                for service in services
                    .checkbox-btn
                        if service.id == form.serviceId
                            input.often-seek(id='btn#{service.id}', name='serviceId', value='#{service.id}', type='checkbox', checked)
                            label(for='btn'+service.id)=service.name
                        else
                            input.often-seek(id='btn#{service.id}', name='serviceId', value='#{service.id}', type='checkbox')
                            label(for='btn'+service.id)=service.name

            .extended-search
                .extended-search-title
                    РАСШИРЕННЫЙ ПОИСК
                .payment-method-headline
                    Способ оплаты
                .payment-method
                    .payment-placeholder
                        Любой
                    .payment-method-items
                        .item
                            input.item-selection-payment(id='item10', name='paymentMethod', type='radio', value=0, checked)
                            label(for='item10') Любой
                        for _paymentMethod in paymentMethods
                            if _paymentMethod.id == form.paymentMethod
                                .item
                                    input.item-selection-payment(id='item1#{_paymentMethod.id}', name='paymentMethod', type='radio', value='#{_paymentMethod.id}', checked=true)
                                    label(for='item1'+_paymentMethod.id)= _paymentMethod.name
                            else
                                .item
                                    input.item-selection-payment(id='item1#{_paymentMethod.id}', name='paymentMethod', type='radio', value='#{_paymentMethod.id}')
                                    label(for='item1'+_paymentMethod.id)= _paymentMethod.name

                .checkboxes-in-search-field
                    .check
                        if form.writesTheCheck == true
                            input.checkbox(id='check1', name='writesTheCheck', type='checkbox', checked)
                            label(for='check1') Выдает чек
                        else
                            input.checkbox(id='check1', name='writesTheCheck', type='checkbox')
                            label(for='check1') Выдает чек

                .delivery-method-headline
                    Способ доставки
                .delivery-method
                    .delivery-placeholder
                        Любой
                    .delivery-method-items
                        .item
                            input.item-selection-delivery(id='item20', name='deliveryMethod', type='radio', value=0, checked)
                            label(for='item20') Любой
                        for _deliveryMethod in deliveryMethods
                            if _deliveryMethod.id == form.deliveryMethod
                                .item
                                    input.item-selection-delivery(id='item2#{_deliveryMethod.id}', name='deliveryMethod', type='radio', value='#{_deliveryMethod.id}', checked=true)
                                    label(for='item2'+_deliveryMethod.id)= _deliveryMethod.name
                            else
                                .item
                                    input.item-selection-delivery(id='item2#{_deliveryMethod.id}', name='deliveryMethod', type='radio', value='#{_deliveryMethod.id}')
                                    label(for='item2'+_deliveryMethod.id)= _deliveryMethod.name

                .checkboxes-in-search-field
                    .check
                        if form.orderByEmail == true
                            input.checkbox(id='check2',name='orderByEmail', type='checkbox', checked)
                            label(for='check2') Принимает заказ по e-mail
                        else
                            input.checkbox(id='check2',name='orderByEmail', type='checkbox')
                            label(for='check2') Принимает заказ по e-mail

                button.extend-submit(type='submit') Показать
    .help
        #polygraphiesList
            .results-field
                ul.results
                    if results.polygraphiesListIsNull!=''
                        p.no-results= results.polygraphiesListIsNull
                    for polygraphy in results.polygraphies
                        li
                            table.services
                                tr
                                    td
                                    td
                                    td
                                tr
                                    td
                                    td
                                    td
                                tr
                                    td
                                    td
                                    td
                            .info
                                .polygraphy-name
                                    a(href='/polygraphy/#{polygraphy.id}')
                                        = polygraphy.name
                                .polygraphy-address= polygraphy.addres
                                .polygraphy-phone-number= polygraphy.phone
                            .detail(id='polygraphy-page')
                                    a(href='/polygraphy/#{polygraphy.id}', id='#{polygraphy.id}')
                                        |Подробнее

        script(id='results', type='text/x-handlebars-template')
            .results-field
                ul.results
                    | {{#if polygraphiesListIsNull}}
                    p.no-results {{polygraphiesListIsNull}}
                    | {{/if}}
                    | {{#each polygraphies}}
                    li
                        table.services
                            tr
                                td
                                td
                                td
                            tr
                                td
                                td
                                td
                            tr
                                td
                                td
                                td
                        .info
                            .polygraphy-name {{name}}
                            .polygraphy-address {{addres}}
                            .polygraphy-phone-number{{phone}}
                        .detail(id='polygraphy-page')
                                a(href='/polygraphy/{{id}}', id='{{id}}')
                                    |Подробнее
                    | {{/each}}
    .pop-up-overlay
        .pop-up-window
        script(id='pop-up-window-detail', type='text/x-handlebars-template')
            .main-pop-up
                .info-pop-up
                    .summary-pop-up
                        .polygraphy-name-pop-up {{name}}
                        table.services-pop-up
                            tr
                                td
                                td
                                td
                                td
                            tr
                                td
                                td
                                td
                                td
                        .address-pop-up {{addres}}
                        .phone-pop-up {{phone}}
                        .email-pop-up {{email}}
                        .site-pop-up
                            a(href='{{website}}')= {{website}}
                    .details-pop-up
                        .about-title-pop-up
                            О ПОЛИГРАФИИ
                        .about-text-pop-up
                            Тут будет много текстаТут будет много текстаТут будет много текстаТут будет много текста
                .helper-pop-up
